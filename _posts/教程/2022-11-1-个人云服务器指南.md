---
title: ä¸ªäººäº‘æœåŠ¡å™¨æŒ‡å—
date: 2022-11-01 17:34:02 +0800
categories: æ•™ç¨‹
tags: ç½‘ç«™ web

---

## å‰è¨€

C++æä¸çŸ¥é“æœ‰ä»€ä¹ˆç”¨çš„å•æœºè½¯ä»¶æ— èŠæ­»äº†ï¼Œè¿˜æ˜¯äº’è”ç½‘å¥½ç©ã€‚ï¼ˆ~~ä¸è¿‡å­¦C++è·Ÿæäº’è”ç½‘çš„éƒ½ä¸€èµ·é¥¿æ­»äº†~~ï¼‰ç®€å•è®°å½•ä¸€ä¸‹ç®€ç®€å•å•çš„å…¥é—¨çŸ¥è¯†å§ã€‚

## é€‰è´­

å›½å†…å’Œå›½å¤–ï¼Œä½†å›½å¤–çš„è¿˜æ˜¯ä¼šæœ‰æ”¯ä»˜é“¶è¡Œå¡çš„é—®é¢˜ã€‚

é‚£å›½å†…åŸºæœ¬å°±é˜¿é‡Œã€åä¸ºã€è…¾è®¯ï¼Œè¿˜æœ‰åˆ«çš„ä¸€äº›å°å‚ã€‚ä½“æ„Ÿè·Ÿçœ‹åˆ«äººçš„è¯´æ³•ï¼Œé˜¿é‡Œåšçš„æœ€å¥½ï¼Œå¸‚åœºä»½é¢ä¹Ÿæœ€é«˜ã€‚åä¸ºæ€§ä»·æ¯”è¿˜è¡Œï¼Œå°è±¡ä¸­æ„Ÿè§‰ä¸»è¦è¿˜æ˜¯to Gæˆ–è€…to Bã€‚è…¾è®¯äº‘æœ€lowï¼ˆèº«è¾¹æœ‰æœ‹å‹è¿˜è¢«é»‘äº†ï¼‰ã€‚ä¸è¿‡é˜¿é‡Œäº‘å·²ç»ç»™å®éªŒå®¤ä¹°äº†ä¸¤ä¸ªè´¦æˆ·ï¼Œæ²¡æœ‰æ–°ç”¨æˆ·äº†ã€‚åªèƒ½è¯•è¯•è…¾è®¯äº‘äº†ã€‚é€‰è´­é“¾æ¥ï¼š

- é˜¿é‡Œäº‘ï¼š[äº‘å°ç«™_ä¸“äº«ç‰¹æƒ _äº‘äº§å“æ¨è-é˜¿é‡Œäº‘ (aliyun.com)](https://www.aliyun.com/minisite/goods?userCode=28kqeewo)
- åä¸ºäº‘ï¼š[ç‰¹æƒ ä¸“åŒº_äº‘æœåŠ¡å™¨_äº‘ä¸»æœº_ä¼ä¸šä¸Šäº‘-åä¸ºäº‘ (huaweicloud.com)](https://activity.huaweicloud.com/discount_area_v5/index.html?fromacct=310cb7b8-6b1c-430b-8bd4-bd5b267069ed&utm_source=V1g3MDY4NTY=&utm_medium=cps&utm_campaign=201905)
- è…¾è®¯äº‘ï¼š[ç²¾é€‰çˆ†å“æŠ¢è´­_äº‘æœåŠ¡å™¨ç§’æ€_ä¼ä¸šä¸Šäº‘åœºæ™¯æ¨è-è…¾è®¯äº‘ (tencent.com)](https://cloud.tencent.com/act/pro/seckill_season?from=new&cps_key=d543d0ed22c1474aaa6949df3eba981a&fromSource=gwzcw.4325959.4325959.4325959&utm_id=gwzcw.4325959.4325959.4325959&utm_medium=cps)

ä¸ªäººå¼€å‘è€…å˜›ï¼Œå°±ä¸€ä¸ªå­—æŠ ã€‚æ‰€ä»¥å˜›ï¼Œæå…¬æœ‰äº‘çš„ä¹Ÿä¸å›¾è¿™å‡ ä¸ªé’±ï¼Œä»¥å‰æ— è®ºæ˜¯æ–°ç”¨æˆ·ä¼˜æƒ è¿˜æ˜¯å­¦ç”Ÿé¢†å–ï¼Œæå¾—éƒ½æŒºå¤šçš„ï¼Œå›¾çš„å¯èƒ½å°±æ˜¯åŸ¹å…»ä¸€ä¸ªç”¨æˆ·ä¹ æƒ¯ã€‚ç„¶è€Œè¿™å¹´å¤´å¤§å®¶è¿‡çš„éƒ½éš¾ï¼Œè¿™ç§çœ‹ä¸åˆ°å•¥é’±é€”çš„äº‹æƒ…ä¹Ÿä¸æ€ä¹ˆçˆ±åšäº†ã€‚ä½“æ„Ÿä¸Šé¢å…¬æœ‰äº‘è¿™ç§ä¸šåŠ¡å¯èƒ½ä¹Ÿæ”¶ç¼©äº†ï¼Œçœ‹ä¸Šå»å°±æ˜¯ä»·æ ¼éƒ½ä¸ä¾¿å®œäº†ã€‚æœ‰é’±èµšçš„è¿˜æ˜¯åƒé‡‘è¶é‚£ç§æç§æœ‰äº‘çš„ã€‚

ä¸Šé¢ç¨å¾®åæ§½ä¸€ä¸‹ï¼Œå”‰ï¼Œæ¯•ç«Ÿäº‘è¿™ç§æ¦‚å¿µå¯¹äºå¼€å‘è€…è¿˜æ˜¯å¾ˆæœ‰å¸å¼•åŠ›çš„ã€‚

## å¯åŠ¨æœåŠ¡å™¨

ä¹°å®Œä¹‹ååŸºæœ¬æŒ‰ç…§æŒ‡å¼•ä¸€æ­¥ä¸€æ­¥å®Œæˆå³å¯ã€‚ä¹‹å‰ä½¿ç”¨è¿‡å‡ æ¬¡é˜¿é‡Œäº‘éƒ½æ˜¯è£…çš„Windows Serverï¼Œå¦‚æœæ˜¯WindowsåŸºæœ¬æ²¡ä»€ä¹ˆå¥½è¯´çš„ï¼Œä½¿ç”¨è¿œç¨‹æ¡Œé¢ç™»å½•å³å¯ã€‚

è‡ªå·±ç©çš„è¯è‚¯å®šè¿˜æ˜¯ç”¨LinuxæœåŠ¡å™¨æ¯”è¾ƒå¥½ç©ï¼Œå…ˆè£…ä¸ªubuntuã€‚é¦–æ¬¡ç™»å½•éœ€é‡ç½®å¯†ç ï¼Œç„¶åä½¿ç”¨sshè¿œç¨‹ç™»å½•ã€‚æ›´å»ºè®®ä½¿ç”¨å¯†é’¥ç™»å½•ï¼Œæ›´åŠ å®‰å…¨ä¹Ÿèƒ½å®ç°å…å¯†ç™»å½•ã€‚

### å¯†é’¥ç™»å½•

å¯†é’¥ç™»å½•å¯ä»¥ä½¿ç”¨äº‘è‡ªå¸¦çš„å¯†é’¥ç®¡ç†ç³»ç»Ÿï¼Œä¼šç”Ÿæˆä¸€å¯¹å¯†é’¥ï¼Œç„¶åä¸‹è½½ç§é’¥ä¿å­˜èµ·æ¥ï¼Œä½¿ç”¨çš„æ—¶å€™æ·»åŠ å¯†é’¥å°±ä¼šè‡ªåŠ¨æ·»åŠ åˆ°æœåŠ¡å™¨.sshæ–‡ä»¶å¤¹å†…ï¼Œç„¶åæŠŠç§é’¥æ”¾åˆ°å®¢æˆ·æœº.sshæ–‡ä»¶å¤¹ä¸‹ï¼Œæ·»åŠ Configæ–‡ä»¶ï¼š

```yaml
Host ubuntu
    HostName (your ip)
    Port 22
    User ubuntu
    IdentityFile ~/.ssh/ubuntu.pem
    ServerAliveInterval 30
    TCPKeepAlive yes
```

å…·ä½“å…å¯†ç™»å½•å‚è€ƒï¼š[æ„å»ºæˆ‘çš„å·¥ä½œç©ºé—´  Olimi](http://olimi.icu/posts/æ„å»ºæˆ‘çš„å·¥ä½œç©ºé—´/#sshå…ç™»å½•)

### ubuntué…ç½®

è¿›å…¥ç³»ç»Ÿé¦–å…ˆ`sudo apt-get update`ã€`sudo apt-get upgrade`æ›´æ–°ã€‚

ç„¶åè£…äº›å¿…å¤‡æ‰©å±•æ¯”å¦‚zshç»ˆç«¯å§ï¼š[Windows Terminal + WSL + Ubuntu + å›¾å½¢åŒ– æ€»ç»“  Olimi](http://olimi.icu/posts/Windows-Terminal-+-WSL-+-Ubuntu-+-å›¾å½¢åŒ–-æ€»ç»“/#zsh)

å›¾å½¢åŒ–ç•Œé¢è¯•ç€è£…äº†ä¸€ä¸‹ï¼Œæ„Ÿè§‰ä¸æ˜¯ç‰¹åˆ«æœ‰å¿…è¦ï¼Œä¸€ä¸ªæ˜¯ç³»ç»Ÿèµ„æºå ç”¨é«˜ï¼Œå¦å¤–è¿˜æ¯”è¾ƒå¡ï¼Œé€‰Linuxç³»æœåŠ¡å™¨å°±æ˜¯å›¾ä¸€ä¸ªç³»ç»Ÿèµ„æºæ€§æ¯”ä»·æœ€é«˜ï¼Œéœ€è¦å›¾å½¢åŒ–ç•Œé¢ç›´æ¥é‡è£…ä¸ºWindows Serverç®—äº†ã€‚

### è®¿é—®github

ä¸Šè¿°å®‰è£…zshè¿‡ç¨‹ç¢°åˆ°ä¸€ä¸ªä½¿ç”¨linuxæœ€å¤§çš„é—®é¢˜ï¼Œå°±æ˜¯å›½å†…è®¿é—®githubå·¨æ…¢çš„é—®é¢˜ï¼Œä»€ä¹ˆæ—¶å€™åƒè¿‡è¿™ç§è‹¦ã€‚

è§£å†³é€”å¾„ï¼š

1. é’ˆå¯¹è¿™ä¸ªé—®é¢˜ä¸»æµçš„æ–¹æ¡ˆå°±æ˜¯ç›´æ¥å¼ºæ”¹hostï¼Œé€šè¿‡ä¸€äº›ipæµ‹é€Ÿè·å–å½“å‰githubçš„ipï¼Œæ‰‹åŠ¨è®¾ç½®host(/etc/hosts). ä¹Ÿæœ‰ä¸€äº›githubé¡¹ç›®ä¸€ç›´ä¼šæ›´æ–°hostsï¼š[isevenluo/github-hosts: ğŸ”¥ğŸ”¥ğŸ”¥ æœ¬é¡¹ç›®å®šæ—¶æ›´æ–°GitHubæœ€æ–°hostsï¼Œè§£å†³GitHubå›¾ç‰‡æ— æ³•æ˜¾ç¤ºï¼ŒåŠ é€ŸGitHubç½‘é¡µæµè§ˆã€‚](https://github.com/isevenluo/github-hosts)
2. æŒ‚æ¢¯å­ã€‚

ç¬¬ä¸€ç§æ–¹æ³•äº²æµ‹ä¸å¤ªå¥½ä½¿ï¼Œæœ‰ç‚¹ç¥ç»åˆ€ï¼Œæœ‰æ—¶å€™å¥½ç”¨æœ‰æ—¶å€™è¿˜æ˜¯å¾ˆæ…¢ã€‚åƒä¸å¾—è¿™ç§è‹¦ï¼Œè¿˜æ˜¯æŒ‚æ¢¯å­å§ã€‚

æœåŠ¡å™¨ä½¿ç”¨v2rayaï¼š[Debian / Ubuntu - v2rayA](https://v2raya.org/docs/prologue/installation/debian/)

å¤§æ¦‚çš„æ­¥éª¤ï¼š

```bash
curl -Ls https://mirrors.v2raya.org/go.sh | sudo bash # å®‰è£…v2ray
sudo systemctl disable v2ray --now # å…³æ‰v2rayæœåŠ¡
wget -qO - https://apt.v2raya.mzz.pub/key/public-key.asc | sudo apt-key add - #æ·»åŠ v2rayaå…¬é’¥
echo "deb https://apt.v2raya.mzz.pub/ v2raya main" | sudo tee /etc/apt/sources.list.d/v2raya.list # æ·»åŠ v2rayaè½¯ä»¶æº
# å®‰è£…v2raya
sudo apt update
sudo apt install v2raya
sudo systemctl start v2raya.service
sudo systemctl enable v2raya.service # å¯é€‰ï¼Œè®¾ç½®å¼€æœºè‡ªåŠ¨è¿è¡Œ

# è®¿é—®ï¼š127.0.0.1:2017ï¼Œå› ä¸ºæ˜¯è¿œç¨‹æœåŠ¡å™¨ï¼Œæ‰€ä»¥è¦å¼€æ”¾è¿™ä¸ªç«¯å£ï¼Œè¿œç¨‹è®¿é—®ï¼Œå¥½å¤„å°±æ˜¯è™½ç„¶æ˜¯æ— å›¾å½¢åŒ–ç•Œé¢çš„æœåŠ¡å™¨ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å®¢æˆ·ç«¯è®¿é—®å›¾å½¢ç•Œé¢
```

èµ·äº†v2rayaæœåŠ¡ä¹‹åæ·»åŠ æ¢¯å­å³å¯ï¼Œå…¶ä»–è¯´æ˜å‚è§å®˜æ–¹æ–‡æ¡£ã€‚

ç¢°åˆ°ä¸€ä¸ªå‘çˆ¹çš„é—®é¢˜æ˜¯ï¼šä½¿ç”¨â€é˜²æ­¢dnsæ±¡æŸ“â€œåŠŸèƒ½ä¼šå¯¼è‡´æ— æ³•è¯†åˆ«mirrors.tencentyun.comè¿™äº›å†…éƒ¨åŸŸåã€‚è§£å†³æ–¹æ¡ˆï¼š

1. é‡å¯ä¸€ä¸‹ï¼ŒæœåŠ¡å™¨å¥½åƒä¼šè‡ªåŠ¨é‡ç½®ç½‘ç»œã€‚
2. æ‰¾ä¸€ä¸‹dnsæœåŠ¡å™¨åœ°å€ï¼Œè‡ªè¡Œæ·»åŠ hostsã€[äº‘æœåŠ¡å™¨ å†…ç½‘æœåŠ¡-äº§å“ç®€ä»‹-æ–‡æ¡£ä¸­å¿ƒ-è…¾è®¯äº‘ (tencent.com)](https://cloud.tencent.com/document/product/213/5225#.E5.86.85.E7.BD.91-dns)

### ç«¯å£ç»´æŠ¤

ç®¡ç†äº‘æœåŠ¡å™¨æœ€å¤šçš„åœ°æ–¹åº”è¯¥å°±æ˜¯ç«¯å£çš„äº¤äº’äº†ï¼Œä¸ºäº†å®‰å…¨èµ·è§æœåŠ¡å™¨å¤§éƒ¨åˆ†ç«¯å£éƒ½æ˜¯å…³é—­çŠ¶æ€ï¼Œæ¯”å¦‚èµ·äº†ä¸€ä¸ª3306çš„æœåŠ¡ï¼Œä½†æ˜¯å¤–ç•Œé»˜è®¤æ˜¯è®¿é—®ä¸åˆ°çš„ã€‚éœ€è¦åˆ°æ§åˆ¶å°å¼€é€šç«¯å£ï¼š

![image-20221031163921846](https://raw.githubusercontent.com/Olimiya/PicBed/main/image-20221031163921846.png)



## ç©è½¬äº‘æœåŠ¡

å…¥é—¨ä¸Šæ‰‹äº‘æœåŠ¡å™¨å¹¶æ²¡æœ‰ä»€ä¹ˆé—¨æ§›ï¼Œæœ¬è´¨ä¸Šè·Ÿè‡ªå·±ç”µè„‘æ²¡ä»€ä¹ˆåŒºåˆ«ï¼Œåªæ˜¯ä¸€å°å¯ä»¥24å°æ—¶ä¸åœæœºï¼Œä¸”æ‹¥æœ‰å…¬ç½‘èµ„æºçš„ç”µè„‘è€Œå·²ã€‚ä¸»è¦è¿˜æ˜¯çœ‹è‡ªå·±æ€ä¹ˆç©ã€‚

### æ­å»ºgitæœåŠ¡å™¨

å¹²è¿™ä¸ªäº‹å°±æ˜¯ä¹°æœåŠ¡å™¨çš„åˆè¡·æ¥ç€ã€‚è™½ç„¶å°±æ˜¯è‡ªå·±å­¦ä¹ ç€ç©ï¼Œgithubå®Œå…¨æ›´å¥½ç”¨ã€‚

ä¹‹å‰è°ƒç ”gitlabï¼Œä¸å¤ªå¥½ä½¿ï¼Œé…ç½®è¦æ±‚å¤ªé«˜ï¼Œå»ºè®®ç”¨giteaï¼š[Gitea](https://gitea.io/zh-cn/)

æ­¥éª¤è®°å½•ï¼šå‚è€ƒ[å¦‚ä½•åœ¨Ubuntu 18.04å®‰è£…Gitea | myfreax](https://www.myfreax.com/how-to-install-gitea-on-ubuntu-18-04/)

```bash
# 1. å‡†å¤‡
sudo apt install sqlite3 git
# åˆ›å»ºä¸€ä¸ªgitç”¨æˆ·ï¼Œä¸‹æ–‡æ“ä½œéƒ½æ˜¯åŸºäºgitç”¨æˆ·æƒé™
sudo adduser --system --group --disabled-password --shell /bin/bash --home /home/git --gecos 'Git Version Control' git

# 2.ä¸‹è½½gitea
wget -O /tmp/gitea https://dl.gitea.io/gitea/1.17.3/gitea-1.17.3-linux-amd64 #é€‰æ‹©å¹¶ä¸‹è½½ä¸€ä¸ªäºŒè¿›åˆ¶ç‰ˆæœ¬
sudo mv /tmp/gitea /usr/local/bin

sudo chmod +x /usr/local/bin/gitea

sudo mkdir -p /var/lib/gitea/{custom,data,indexers,public,log}
sudo chown git: /var/lib/gitea/{data,indexers,log}
sudo chmod 750 /var/lib/gitea/{data,indexers,log}
sudo mkdir /etc/gitea
sudo chown root:git /etc/gitea
sudo chmod 770 /etc/gitea

# 3.é…ç½®systemdæœåŠ¡
sudo wget https://raw.githubusercontent.com/go-gitea/gitea/master/contrib/systemd/gitea.service -P /etc/systemd/system/

sudo systemctl daemon-reload
sudo systemctl start gitea
sudo systemctl enable gitea
sudo systemctl status gitea
```

æ­£å¸¸æƒ…å†µä¸‹å®Œæˆä¸Šè¿°è¿‡ç¨‹å°±å¯ä»¥æ‰“å¼€ip:3000è®¿é—®giteaç½‘é¡µï¼Œå¦‚æœæ˜¯è¿œç¨‹æœåŠ¡å™¨ï¼Œè¿™é‡Œipå¡«å†™å…¬ç½‘ipå¹¶ä¸”è®°å¾—æ‰“å¼€3000ç«¯å£ã€‚

*å‘ï¼šç¬¬ä¸€æ¬¡åˆ°è¿™é‡Œçš„æ—¶å€™çœç•¥äº†ç¬¬ä¸€æ­¥åˆ›å»ºgitç”¨æˆ·ï¼Œä½¿ç”¨è‡ªå·±é»˜è®¤çš„ç”¨æˆ·ï¼Œä½†æ˜¯å®˜ç½‘ç»™çš„gitea.serviceè„šæœ¬æ˜¯åŸºäºgitç”¨æˆ·çš„ï¼Œå¦‚æœä¸æŒ‰ç…§é»˜è®¤çš„è¦æ›´æ”¹è„šæœ¬ä¸ºåŒ¹é…ä¿¡æ¯ã€‚å…¶å®åˆ›å»ºä¸€ä¸ªä¸“é—¨ç®¡ç†gitçš„ç”¨æˆ·ä¹ŸæŒºå¥½çš„(çœäº‹)ï¼Œè¡¥å›æ¥ã€‚*

ä¿¡æ¯çœ‹ç€å¡«å°±è¡Œï¼Œåç»­éƒ½å¯ä»¥æ›´æ”¹é…ç½®æ–‡ä»¶ï¼Œæ•°æ®åº“è¿™é‡Œé€‰æ‹©`sqlite3`ï¼Œä»“åº“è·¯å¾„`/home/git/gitea-repositories`.ä¸€è·¯å¾€ä¸‹å®‰è£…å›¾å½¢ç•Œé¢æ“ä½œï¼Œè·³è½¬åˆ°ç™»å½•ç•Œé¢é¦–æ¬¡æ³¨å†Œçš„ç”¨æˆ·ä¸ºç®¡ç†å‘˜ï¼Œåˆ›å»ºä»“åº“ï¼Œå°±å¯ä»¥ä½œä¸ºæœåŠ¡å™¨ä¾›å¤–ç•Œè®¿é—®äº†ã€‚æ¯”å¦‚æˆ‘çš„æµ‹è¯•ï¼š` git clone http://ip:3000/olimi/test.git`.

### Nginxåå‘ä»£ç†

ä¸Šé¢æµ‹è¯•é“¾æ¥åè®®ä¸ºhttpï¼Œæ˜¯ä¸å¤ªå®‰å…¨çš„ï¼Œé€šè¿‡é…ç½®Nginxåå‘ä»£ç†é…ç½®SSLåŠ å¯†ã€‚æ­¥éª¤è®°å½•:

```bash
# 1.å®‰è£…nginx
sudo apt-get install nginx

# 2.é…ç½®åå‘ä»£ç†
# è¿™é‡Œé¦–å…ˆéœ€è¦ä¸€ä¸ªæŒ‡å‘æœåŠ¡å™¨ipçš„åŸŸåï¼Œå¦‚æœæ²¡æœ‰åŸŸåï¼Œå¯ä»¥éšä¾¿è®¾ä¸€ä¸ªåŸŸåï¼Œç„¶ååœ¨éœ€è¦ä½¿ç”¨çš„ç”µè„‘ï¼Œæ‰‹åŠ¨é…ç½®hostæŒ‡å‘è¯¥ip
sudo nano /etc/nginx/conf.d/åŸŸå.conf

```

```shell
server {
    listen 80;
    server_name åŸŸå;
    proxy_read_timeout 720s;
    proxy_connect_timeout 720s;
    proxy_send_timeout 720s;
    client_max_body_size 50m;
    # Proxy headers
    proxy_set_header X-Forwarded-Host $host;
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    proxy_set_header X-Forwarded-Proto $scheme;
    proxy_set_header X-Real-IP $remote_addr;
    # log files
    access_log /var/log/nginx/git.example.com.access.log;
    error_log /var/log/nginx/git.example.com.error.log;

    # Handle / requests
    location / {
       proxy_redirect off;
       proxy_pass http://127.0.0.1:3000;
    }
}
```
{: file=/etc/gitea/app.ini}


ä½¿ç”¨ï¼š`sudo nginx -t`æµ‹è¯•è¯­æ³•é—®é¢˜ã€‚ç„¶å`sudo systemctl restart nginx`é‡å¯æœåŠ¡ã€‚

æ¥ç€ä¿®æ”¹giteaä¸­çš„åŸŸåé…ç½®ï¼š

```shell
[server]
DOMAIN           = git.olimi.icu
ROOT_URL         = https://git.olimi.icu/
```

{: file="/etc/gitea/app.ini" }

**Nginxé…ç½®SSLè¯ä¹¦**ï¼šå› ä¸ºåŸŸåæ˜¯è…¾è®¯äº‘ä¹°çš„ï¼Œæ‰€ä»¥ç›´æ¥åˆ°è…¾è®¯äº‘ä¸­ç”³è¯·å…è´¹çš„SSLè¯ä¹¦(è™½ç„¶ä¸€ç›´è¿˜åœ¨å®¡æ ¸ä¸­..)ï¼Œå¤§æ¦‚è¿‡ç¨‹æ˜¯ï¼š

![img](https://qcloudimg.tencent-cloud.cn/image/document/b0361720af7d3aadadc29480359a1ffc.png)

å‚è€ƒé“¾æ¥ï¼š[SSL è¯ä¹¦ Nginx æœåŠ¡å™¨ SSL è¯ä¹¦å®‰è£…éƒ¨ç½²-è¯ä¹¦å®‰è£…-æ–‡æ¡£ä¸­å¿ƒ-è…¾è®¯äº‘ (tencent.com)](https://cloud.tencent.com/document/product/400/35244)

è¿‡ç¨‹ï¼š

1. ä¸‹è½½è¯ä¹¦æ–‡ä»¶
2. ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼Œä½¿ç”¨ç›¸å¯¹è·¯å¾„å¯æ”¾åœ¨nginx.confåŒç›®å½•ä¸‹
3. é…ç½®æœåŠ¡å‚è€ƒï¼š

```shell
server {
 #SSL é»˜è®¤è®¿é—®ç«¯å£å·ä¸º 443
 listen 443 ssl;
 #è¯·å¡«å†™ç»‘å®šè¯ä¹¦çš„åŸŸå
 server_name cloud.tencent.com; 
 #è¯·å¡«å†™è¯ä¹¦æ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„æˆ–ç»å¯¹è·¯å¾„
 ssl_certificate  cloud.tencent.com_bundle.crt; 
 #è¯·å¡«å†™ç§é’¥æ–‡ä»¶çš„ç›¸å¯¹è·¯å¾„æˆ–ç»å¯¹è·¯å¾„
 ssl_certificate_key cloud.tencent.com.key; 
 ssl_session_timeout 5m;
 #è¯·æŒ‰ç…§ä»¥ä¸‹å¥—ä»¶é…ç½®ï¼Œé…ç½®åŠ å¯†å¥—ä»¶ï¼Œå†™æ³•éµå¾ª openssl æ ‡å‡†ã€‚
 ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4;
 #è¯·æŒ‰ç…§ä»¥ä¸‹åè®®é…ç½®
 ssl_protocols TLSv1.2 TLSv1.3;
 ssl_prefer_server_ciphers on;
 location / {
   #ç½‘ç«™ä¸»é¡µè·¯å¾„ã€‚æ­¤è·¯å¾„ä»…ä¾›å‚è€ƒï¼Œå…·ä½“è¯·æ‚¨æŒ‰ç…§å®é™…ç›®å½•æ“ä½œã€‚ 
   #ä¾‹å¦‚ï¼Œæ‚¨çš„ç½‘ç«™ä¸»é¡µåœ¨ Nginx æœåŠ¡å™¨çš„ /etc/www ç›®å½•ä¸‹ï¼Œåˆ™è¯·ä¿®æ”¹ root åé¢çš„ html ä¸º /etc/wwwã€‚
   root html;
   index index.html index.htm;
 }
}
server {
 listen 80;
 #è¯·å¡«å†™ç»‘å®šè¯ä¹¦çš„åŸŸå
 server_name cloud.tencent.com; 
 #æŠŠhttpçš„åŸŸåè¯·æ±‚è½¬æˆhttps
 return 301 https://$host$request_uri; 
}
```
