<!DOCTYPE html><html lang="zh-CN" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.3.1" /><meta property="og:title" content="VMWare虚拟机网络探讨-桥接、NAT、仅主机配置" /><meta name="author" content="Olimi" /><meta property="og:locale" content="zh_CN" /><meta name="description" content="前言" /><meta property="og:description" content="前言" /><link rel="canonical" href="https://olimiya.github.io/posts/VMWare%E8%99%9A%E6%8B%9F%E6%9C%BA%E8%81%94%E7%BD%91%E9%97%AE%E9%A2%98-%E6%A1%A5%E6%8E%A5-NAT-%E4%BB%85%E4%B8%BB%E6%9C%BA%E9%85%8D%E7%BD%AE/" /><meta property="og:url" content="https://olimiya.github.io/posts/VMWare%E8%99%9A%E6%8B%9F%E6%9C%BA%E8%81%94%E7%BD%91%E9%97%AE%E9%A2%98-%E6%A1%A5%E6%8E%A5-NAT-%E4%BB%85%E4%B8%BB%E6%9C%BA%E9%85%8D%E7%BD%AE/" /><meta property="og:site_name" content="Olimi" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-04-10T00:00:00+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="VMWare虚拟机网络探讨-桥接、NAT、仅主机配置" /><meta name="twitter:site" content="@olimi861921648" /><meta name="twitter:creator" content="@olimi861921648" /><meta name="google-site-verification" content="g9ctzJLPpJ3wh5a6Bk6kvp7UAB5N22zIe2V2PZE72TA" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Olimi","url":"https://olimiya.github.io/"},"dateModified":"2022-04-21T14:43:51+08:00","datePublished":"2022-04-10T00:00:00+08:00","description":"前言","headline":"VMWare虚拟机网络探讨-桥接、NAT、仅主机配置","mainEntityOfPage":{"@type":"WebPage","@id":"https://olimiya.github.io/posts/VMWare%E8%99%9A%E6%8B%9F%E6%9C%BA%E8%81%94%E7%BD%91%E9%97%AE%E9%A2%98-%E6%A1%A5%E6%8E%A5-NAT-%E4%BB%85%E4%B8%BB%E6%9C%BA%E9%85%8D%E7%BD%AE/"},"url":"https://olimiya.github.io/posts/VMWare%E8%99%9A%E6%8B%9F%E6%9C%BA%E8%81%94%E7%BD%91%E9%97%AE%E9%A2%98-%E6%A1%A5%E6%8E%A5-NAT-%E4%BB%85%E4%B8%BB%E6%9C%BA%E9%85%8D%E7%BD%AE/"}</script><title>VMWare虚拟机网络探讨-桥接、NAT、仅主机配置 | Olimi</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Olimi"><meta name="application-name" content="Olimi"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_2440352_86vrobdp9vu.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_2451185_tgvgeuen2lh.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/tonsky/FiraCode@5.2/distr/fira_code.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="/avatar.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Olimi</a></div><div class="site-subtitle font-italic">来者是客</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="iconfont icon-home ml-xl-3 mr-xl-3 unloaded"></i> <span>首页</span> </a><li class="nav-item"> <a href="/subdomain/" class="nav-link"> <i class="iconfont icon-buywebhostingstep1domain ml-xl-3 mr-xl-3 unloaded"></i> <span>子域</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="iconfont icon-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>分类</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="iconfont icon-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>标签</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="iconfont icon-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>归档</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="iconfont icon-info ml-xl-3 mr-xl-3 unloaded"></i> <span>关于</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="iconfont icon-adjust1"></i> </button> <span class="icon-border"></span> <a href="https://github.com/olimiya" aria-label="github" target="_blank" rel="noopener"> <i class="iconfont icon-github"></i> </a> <a href="https://twitter.com/olimi861921648" aria-label="twitter" target="_blank" rel="noopener"> <i class="iconfont icon-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['olimi861921648','gmail.com'].join('@')" aria-label="email" > <i class="iconfont icon-mail"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="iconfont icon-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> 首页 </a> </span> <span>VMWare虚拟机网络探讨-桥接、NAT、仅主机配置</span> </span> <i id="sidebar-trigger" class="iconfont icon-bars"></i><div id="topbar-title"> 文章</div><i id="search-trigger" class="iconfont icon-search"></i> <span id="search-wrapper" class="align-items-center"> <i class="iconfont icon-search"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="搜索..."> </span> <span id="search-cancel" >取消</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>VMWare虚拟机网络探讨-桥接、NAT、仅主机配置</h1><div class="post-meta text-muted"><div> 作者 <em> <a href="https://olimiya.github.io/">Olimi</a> </em></div><div class="d-flex"><div> <span> 发表于 <em class="timeago" data-ts="1649520000" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-04-10 </em> </span> <span> 更新于 <em class="timeago" data-ts="1650523431" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-04-21 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="6377 字"> <em>35 分钟</em>阅读</span> <span id="busuanzi_container_page_pv"> 阅读量:<span id="busuanzi_value_page_pv"></span> </span></div></div></div><div class="post-content"><h1 id="前言">前言</h1><p>今天搞实验把工作环境搬来搬去的过程中，把带着VM环境的移动硬盘弄掉了好几次，VMWare里面的虚拟机终于不堪折磨宕机掉了，磁盘文件损坏。还好之前留了快照可以恢复（所以定期备份快照很重要，特别是重要，配置了很多东西的虚拟机，不是说重装就重装的）。</p><p>然后切换工作环境，网络环境变更啥的，搞得脑子晕了，一时上不了网就直接把虚拟机网络编辑里面的东西全重置了。重置就重置吧，重新配置呗。问题就是以前配过的东西全忘光了。果然工作不总结的话就会出现重复工作，一个问题没记住解决方案就会导致一直是问题。。</p><p>借此机会把虚拟机的网络配置这块好好总结一下。结合看的多篇写得较好的中文博客，把网络配置问题形成自己的理解。</p><h1 id="vmware网络配置">VMWare网络配置</h1><p>VMware网络配置就是设置虚拟机网络虚拟化的方式，目的是将虚拟机连接到网络上，实现虚拟机的联网或者主机与虚拟机的连接或者虚拟机局域网之间的互联。</p><p>在VMWare中有三种模式，分别是桥接模式、NAT模式和主机模式。</p><p>物理机网络IP示例：</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="iconfont icon-code small"></i></span> <span class="code-header-right"><button class="button-copy" aria-label="copy" title-succeed="已复制！"><i class="iconfont icon-copy"></i></button></span></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre><td class="rouge-code"><pre>无线局域网适配器 WLAN:

   连接特定的 DNS 后缀 <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> :
   本地链接 IPv6 地址. <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> : fe80::61d3:e211:e09:c336%15
   IPv4 地址 <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> : 10.44.11.54
   子网掩码  <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> : 255.255.0.0
   默认网关. <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> : 10.44.255.254
   
以太网适配器 VMware Network Adapter VMnet1:

   连接特定的 DNS 后缀 <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> :
   本地链接 IPv6 地址. <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> : fe80::852:80cf:9d6b:f9dc%6
   自动配置 IPv4 地址  <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> : 169.254.249.220
   子网掩码  <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> : 255.255.0.0
   默认网关. <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> :

以太网适配器 VMware Network Adapter VMnet8:

   连接特定的 DNS 后缀 <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> :
   本地链接 IPv6 地址. <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> : fe80::1c9b:6567:f003:9d42%4
   IPv4 地址 <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> : 192.168.1.1
   子网掩码  <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> : 255.255.255.0
   默认网关. <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> :
</pre></table></code></div></div><h2 id="桥接模式"><span class="mr-2">桥接模式</span><a href="#桥接模式" class="anchor text-muted"><i class="iconfont icon-hashtag"></i></a></h2><h3 id="桥接模式解释"><span class="mr-2">桥接模式解释</span><a href="#桥接模式解释" class="anchor text-muted"><i class="iconfont icon-hashtag"></i></a></h3><p>桥接模式的理解：</p><blockquote><p>桥接模式就是将主机网卡与虚拟的网卡利用虚拟网桥进行通信。类似于把物理主机虚拟为一个交换机，所有桥接设置的虚拟机连接到这个交换机的一个接口上，物理主机也同样插在这个交换机当中，所以所有桥接下的网卡与网卡都是交换模式的，相互可以访问而不干扰。在桥接模式下，虚拟机IP地址需要与主机在同一网段，如果需要联网，则网关与DNS需要与主机网卡一致。 原文链接：<a href="https://blog.csdn.net/qq_39192827/article/details/85872025">https://blog.csdn.net/qq_39192827/article/details/85872025</a></p></blockquote><p><img data-src="https://img-blog.csdnimg.cn/20190105204909419.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM5MTkyODI3,size_16,color_FFFFFF,t_70" alt="img" data-proofer-ignore></p><p>这里的虚拟机和物理主机就是平等的地位，相当于网络中间的一台新主机(通过物理主机这个交换机接入网络)。所以虚拟机中上网的方式与物理主机相同。物理主机怎么上网，虚拟机就怎么上网。比如物理主机使用WIFI无线连接，DHCP自动分配IP。那虚拟机联网也一样，向WIFI的路由器请求DHCP分配IP和DNS，完成后即可上网。如果物理主机使用有线网连接，那虚拟机内也要配置相应的IP地址(这个IP一般就是组织内分配的静态IP)。</p><p>这里的核心问题就是，虚拟机能否像物理机一样请求到同样的资源。比如DHCP分配的IP可能有限，有线网的静态IP可能对于个人也是唯一的。比如个人在校园网内使用，无线网可能可以多终端登录，有线网则必然不行。于是这就是桥接模式的特点：</p><ul><li>可以将虚拟机看做一台新电脑，接入了宿主机所在的网络。<li>虚拟机允许访问宿主机所在网络的其他电脑<li>虚拟机允许访问Internet互联网（当然宿主机必须可以访问互联网才行）。<li>主机和虚拟机通过单位局域网，互联互通。</ul><p>(原文链接：<a href="https://segmentfault.com/a/1190000024580532">https://segmentfault.com/a/1190000024580532</a>)</p><p>第二第四点特点决定了，当我们想将多台虚拟机(部署在一台或多台电脑上)连成一个局域网时，桥接模式就是首选。这种方法配置起来和使用起来也是较为方便，是VMware的默认配置。</p><p>结合一个具体例子：比如物理主机(宿主机)的IP地址为10.44.11.54，那虚拟机连接后自动分配的IP可能为：10.44.11.128。因为获取方式与物理主机相同，所以网段也一致。</p><p>桥接模式下的所有虚拟机都是和主机是在同一网段的，可以把它们看成是”平等”的关系，这就会带来一些麻烦，比如192.168.1段下只有254个主机地址，所以桥接模式下虚拟机和物理的总数不能超过这个数字！</p><h3 id="桥接模式配置"><span class="mr-2">桥接模式配置</span><a href="#桥接模式配置" class="anchor text-muted"><i class="iconfont icon-hashtag"></i></a></h3><ul><li><p>进入VMware-&gt;Workstation-&gt;编辑-&gt;虚拟网络编辑器。</p><p><img data-src="https://raw.githubusercontent.com/Olimiya/PicBed/main/image-20220409213016621.png" alt="image-20220409212924265" data-proofer-ignore></p><li><p>需要管理员权限或者点击右下角更改设置。</p><p><img data-src="https://raw.githubusercontent.com/Olimiya/PicBed/main/image-20220409213110034.png" alt="image-20220409213016621" data-proofer-ignore></p><li><p>在网络列表中选择“VMnet0”,如果没有，可以点击“添加网络”按钮增加，VMnet0是VMWare默认设置，当然是用其他网卡也是可以的。</p><p><img data-src="https://raw.githubusercontent.com/Olimiya/PicBed/main/image-20220409213121362.png" alt="image-20220409213045451" data-proofer-ignore></p><li><p>选择宿主机访问外部网络的物理网卡。连有线网时就选择有线网，连无线网时选择有线网。网卡名称可在右下角右键网络状态显示图。</p><p><img data-src="https://raw.githubusercontent.com/Olimiya/PicBed/main/image-20220409213045451.png" alt="image-20220409213110034" data-proofer-ignore></p><p><img data-src="https://raw.githubusercontent.com/Olimiya/PicBed/main/image-20220409213208390.png" alt="image-20220409213121362" data-proofer-ignore></p><li><p>然后修改虚拟机网络适配器为桥接模式。<img data-src="https://raw.githubusercontent.com/Olimiya/PicBed/main/image-20220409220612184.png" alt="image-20220409213208390" data-proofer-ignore></p><p>关于这里复制物理网络连接状态的选项：</p><blockquote><p>如果在笔记本电脑或其他移动设备上使用虚拟机，请选择<strong>复制物理网络连接状态</strong>。</p><p>当您在有线或无线网络之间进行移动时，该设置会导致 IP 地址续订。</p></blockquote><blockquote><p>续订IP是指网卡从路由器的DHCP服务器获得IP地址的过程。 网卡通过DHCP对IP都有租定时间，等到了一定的时间，你的电脑会自动续订IP，以方便继续使用。 不选择复制物理网络连接状态选项：</p><p>如果采用DHCP的方式来分配IP地址，当电脑网络从有线或无线网络之间进行移动时，DHCP会重新分配ip地址，即虚拟机IP地址会发生变化。 选择复制物理网络连接状态选项:</p><p>复制网络连接状态仅用于笔记本电脑在有线网络与无线网络之间切换时进行IP地址续订，虚拟机IP地址不变 原文链接：<a href="https://blog.csdn.net/qq_41638851/article/details/105214736">https://blog.csdn.net/qq_41638851/article/details/105214736</a></p></blockquote></ul><p>​ 一般就不用勾了。</p><ul><li>确定保存之后，重启(开启)虚拟机即可使用桥接模式。<li>虚拟机内部。如果是使用无线联网，那一般系统会默认选择DHCP自动分配IP，无需自行配置。若是有线联网，则需自行配置IP和DNS等。配置方式根据自己虚拟机系统和版本，以及连接方式，自行搜索即可。如：ubuntu18.04：<a href="https://blog.csdn.net/u014454538/article/details/88646689">https://blog.csdn.net/u014454538/article/details/88646689</a></ul><h3 id="桥接模式的选择"><span class="mr-2">桥接模式的选择</span><a href="#桥接模式的选择" class="anchor text-muted"><i class="iconfont icon-hashtag"></i></a></h3><ul><li>默认选择，配置较少，如果处于网络信任度较高、网络较自由(自己家)，不用考虑如何登录上网这些问题时，可首选使用。<li>如果有登录问题，就不要用了。信任度不高的也是，外部网络可以直接访问该虚拟机。<li>第二点也意味着，如果想把虚拟机暴露给外界。比如远程登录虚拟机，就需要使用桥接模式(或者NAT+内网穿透)。再比如暴露虚拟机中的web服务等。</ul><h2 id="nat模式"><span class="mr-2">NAT模式</span><a href="#nat模式" class="anchor text-muted"><i class="iconfont icon-hashtag"></i></a></h2><h3 id="nat模式解释"><span class="mr-2">NAT模式解释</span><a href="#nat模式解释" class="anchor text-muted"><i class="iconfont icon-hashtag"></i></a></h3><p>NAT(网络地址转换)，是一种在IP<a href="https://zh.wikipedia.org/wiki/封包">数据包</a>通过<a href="https://zh.wikipedia.org/wiki/路由器">路由器</a>或<a href="https://zh.wikipedia.org/wiki/防火牆">防火墙</a>时重写来源<a href="https://zh.wikipedia.org/wiki/IP地址">IP地址</a>或目的IP地址的技术(wiki)。</p><blockquote><p>比如192.168.0.123这个地址要访问internet，它的数据包就要通过一个网关或者路由器，而网关或者路由器拥有一个能访问internet的ip地址，这样的网关和路由器就要在收发数据包时，对数据包的IP协议层数据进行更改（即 NAT），以使私有网段的主机能够顺利访问internet。 原文链接：<a href="https://blog.csdn.net/zlfing/article/details/76943895">https://blog.csdn.net/zlfing/article/details/76943895</a></p></blockquote><p>也是网络管理中常用的方式了。优点在于NAT内部局域网与外界隔离，较为安全。内部地址空间也是独立进行维护，与公网IP分离，有效降低IP地址空间不足的问题。缺点是数据包都要经过NAT设备(路由器或网关)更改源和目的IP，重新查询NAT地址转换表，降低了通信效率。</p><p>在VMWare中也一样。</p><p><img data-src="https://img-blog.csdnimg.cn/20190105211022216.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM5MTkyODI3,size_16,color_FFFFFF,t_70" alt="img" data-proofer-ignore></p><blockquote><p>在NAT模式中，主机网卡直接与虚拟NAT设备相连，然后虚拟NAT设备与虚拟DHCP服务器一起连接在虚拟交换机VMnet8上，这样就实现了虚拟机联网。VMware Network Adapter VMnet8网卡是为了实现主机与虚拟机之间的通信。</p><p>可见NAT模式下主机更像是虚拟机们的”路由器”。所以虚拟机和主机不再同一网段下，可以理解为主机是虚拟机的”上级”。 ———————————————— 原文链接：<a href="https://blog.csdn.net/qq_39192827/article/details/85872025">https://blog.csdn.net/qq_39192827/article/details/85872025</a></p></blockquote><p>同样举个例子，比如物理主机的IP是10.44.11.54，虚拟机分配到的IP可能是192.168.1.128(具体网段是什么是自己设置的)，但可以看到网段是不一致的。</p><p>关于NAT模式，可以看到主机内有一个Adapter VMnet8网卡，这个网卡是为了实现主机和虚拟机之间的通信。有了这个网卡，主机和虚拟机之间就可以通信。主机可以ping通虚拟机的IP，虚拟机可以ping通主机的IP。比如上面的例子，主机可以ping通192.168.1.128，虚拟机可以ping通10.44.11.54，也可以ping通192.168.1.1(虚拟网卡VMnet8的IP)。如果禁掉这个网卡。则192.168.1.1和192.168.1.128之间无法通信。但<strong>虚拟机仍可连接外网，同时也能ping通10.44.11.54</strong>，原因是虚拟机是通过Vmnet8交换机与主机网卡(10.44.11.54)连接，只要主机可以联网(10.44.11.54能用)，虚拟机自然也可以使用。</p><p>(这里有个比较疑惑的地方：按道理禁掉Vmnet8，主机应该是无法访问虚拟机的，但个人测试的情况是主机能够ping通192.168.1.128，参考下面的测试结果)</p><p>这里要区分，虚拟网卡的概念，虚拟网卡是一个系统内部的设备，即使它不是物理上存在的，只是逻辑上的资源。看上图的含义就是，Adapter VMnet8和VMnet8交换机，是分别处于两个框内，属于不同系统的资源。前者属于Windows，后者属于VMWare的HyperVisor。这也是使用桥接模式时，主机内看不到VMnet0的原因。因为主机和虚拟机在网络上就是平等的地位，无需在主机内部构建一个虚拟网卡资源来进行通信。</p><p>另外，NAT内部网络之间都属于同一个网段，也是可以相互访问和通信的。</p><p>测试样例：</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="iconfont icon-code small"></i></span> <span class="code-header-right"><button class="button-copy" aria-label="copy" title-succeed="已复制！"><i class="iconfont icon-copy"></i></button></span></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
</pre><td class="rouge-code"><pre>主机：
以太网适配器 VMware Network Adapter VMnet1:

   连接特定的 DNS 后缀 <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> :
   本地链接 IPv6 地址. <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> : fe80::852:80cf:9d6b:f9dc%6
   自动配置 IPv4 地址  <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> : 169.254.249.220
   子网掩码  <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> : 255.255.0.0
   默认网关. <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> :

以太网适配器 VMware Network Adapter VMnet8:

   连接特定的 DNS 后缀 <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> :
   本地链接 IPv6 地址. <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> : fe80::1c9b:6567:f003:9d42%4
   IPv4 地址 <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> : 192.168.1.1
   子网掩码  <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> : 255.255.255.0
   默认网关. <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> :

以太网适配器 以太网 3:

   媒体状态  <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> : 媒体已断开连接
   连接特定的 DNS 后缀 <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> :

无线局域网适配器 WLAN:

   连接特定的 DNS 后缀 <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> :
   本地链接 IPv6 地址. <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> : fe80::61d3:e211:e09:c336%15
   IPv4 地址 <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> : 10.44.11.54
   子网掩码  <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> : 255.255.0.0
   默认网关. <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> : 10.44.255.254

<span class="nv">$ </span>ping 192.168.1.128

正在 Ping 192.168.1.128 具有 32 字节的数据:
来自 192.168.1.128 的回复: 字节<span class="o">=</span>32 时间&lt;1ms <span class="nv">TTL</span><span class="o">=</span>64
来自 192.168.1.128 的回复: 字节<span class="o">=</span>32 时间&lt;1ms <span class="nv">TTL</span><span class="o">=</span>64
来自 192.168.1.128 的回复: 字节<span class="o">=</span>32 时间&lt;1ms <span class="nv">TTL</span><span class="o">=</span>64
来自 192.168.1.128 的回复: 字节<span class="o">=</span>32 时间&lt;1ms <span class="nv">TTL</span><span class="o">=</span>64

虚拟机：
<span class="nv">$ </span>ip addr         
...
2: ens33: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc fq_codel state UP group default qlen 1000
    <span class="nb">link</span>/ether 00:0c:29:e3:1c:15 brd ff:ff:ff:ff:ff:ff
    inet 192.168.1.128/24 brd 192.168.1.255 scope global dynamic noprefixroute ens33
..
~ ⌚ 22:46:44
<span class="nv">$ </span>ping 192.168.1.1
PING 192.168.1.1 <span class="o">(</span>192.168.1.1<span class="o">)</span> 56<span class="o">(</span>84<span class="o">)</span> bytes of data.
64 bytes from 192.168.1.1: <span class="nv">icmp_seq</span><span class="o">=</span>1 <span class="nv">ttl</span><span class="o">=</span>128 <span class="nb">time</span><span class="o">=</span>0.256 ms
64 bytes from 192.168.1.1: <span class="nv">icmp_seq</span><span class="o">=</span>2 <span class="nv">ttl</span><span class="o">=</span>128 <span class="nb">time</span><span class="o">=</span>0.330 ms
64 bytes from 192.168.1.1: <span class="nv">icmp_seq</span><span class="o">=</span>3 <span class="nv">ttl</span><span class="o">=</span>128 <span class="nb">time</span><span class="o">=</span>0.416 ms
^C



主机：VMnet8关闭
以太网适配器 VMware Network Adapter VMnet1:

   连接特定的 DNS 后缀 <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> :
   本地链接 IPv6 地址. <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> : fe80::852:80cf:9d6b:f9dc%6
   自动配置 IPv4 地址  <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> : 169.254.249.220
   子网掩码  <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> : 255.255.0.0
   默认网关. <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> :

无线局域网适配器 WLAN:

   连接特定的 DNS 后缀 <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> :
   本地链接 IPv6 地址. <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> : fe80::61d3:e211:e09:c336%15
   IPv4 地址 <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> : 10.44.11.54
   子网掩码  <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> : 255.255.0.0
   默认网关. <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> <span class="nb">.</span> : 10.44.255.254
   
<span class="nv">$ </span>ping 192.168.1.128

正在 Ping 192.168.1.128 具有 32 字节的数据:
来自 192.168.1.128 的回复: 字节<span class="o">=</span>32 时间&lt;1ms <span class="nv">TTL</span><span class="o">=</span>64
来自 192.168.1.128 的回复: 字节<span class="o">=</span>32 时间&lt;1ms <span class="nv">TTL</span><span class="o">=</span>64
   
虚拟机：
<span class="nv">$ </span>ip addr         
...
2: ens33: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc fq_codel state UP group default qlen 1000
    <span class="nb">link</span>/ether 00:0c:29:e3:1c:15 brd ff:ff:ff:ff:ff:ff
    inet 192.168.1.128/24 brd 192.168.1.255 scope global dynamic noprefixroute ens33
..

~ ⌚ 21:59:22
<span class="nv">$ </span>ping 10.44.11.54
PING 10.44.11.54 <span class="o">(</span>10.44.11.54<span class="o">)</span> 56<span class="o">(</span>84<span class="o">)</span> bytes of data.
64 bytes from 10.44.11.54: <span class="nv">icmp_seq</span><span class="o">=</span>1 <span class="nv">ttl</span><span class="o">=</span>128 <span class="nb">time</span><span class="o">=</span>0.684 ms
64 bytes from 10.44.11.54: <span class="nv">icmp_seq</span><span class="o">=</span>2 <span class="nv">ttl</span><span class="o">=</span>128 <span class="nb">time</span><span class="o">=</span>0.644 ms
64 bytes from 10.44.11.54: <span class="nv">icmp_seq</span><span class="o">=</span>3 <span class="nv">ttl</span><span class="o">=</span>128 <span class="nb">time</span><span class="o">=</span>0.589 ms
^C
<span class="nt">---</span> 10.44.11.54 ping statistics <span class="nt">---</span>
3 packets transmitted, 3 received, 0% packet loss, <span class="nb">time </span>2037ms
rtt min/avg/max/mdev <span class="o">=</span> 0.589/0.639/0.684/0.038 ms

~ ⌚ 21:59:28
<span class="nv">$ </span>ping 192.168.1.1
PING 192.168.1.1 <span class="o">(</span>192.168.1.1<span class="o">)</span> 56<span class="o">(</span>84<span class="o">)</span> bytes of data.
^C
<span class="nt">---</span> 192.168.1.1 ping statistics <span class="nt">---</span>
2 packets transmitted, 0 received, 100% packet loss, <span class="nb">time </span>1010ms

</pre></table></code></div></div><h3 id="nat模式配置"><span class="mr-2">NAT模式配置</span><a href="#nat模式配置" class="anchor text-muted"><i class="iconfont icon-hashtag"></i></a></h3><ul><li>进入VMware-&gt;Workstation-&gt;编辑-&gt;虚拟网络编辑器。</ul><p><img data-src="https://raw.githubusercontent.com/Olimiya/PicBed/main/image-20220409213016621.png" alt="image-20220409212924265" data-proofer-ignore></p><ul><li><p>在网络列表中选择“VMnet8”,如果没有，可以点击“添加网络”按钮增加，为什么是VMnet8呢，这个应该是VMWare默认设置，当然是用其他网卡也是可以的。</p><li><p>选择“NAT模式”，确定选中“将主机虚拟适配器连接到此网络”和“是用本地DHCP服务将IP地址分配给虚拟机”选项</p><ul><li>子网IP:192.168.1.0，子网掩码：255.255.255.0，为了与“仅主机模式”区分，我习惯将“NAT模式”的子网网段配置为“192.168.1.0”，这个可以根据自己的喜好来设置。(比如NAT设置20网段、仅主机设置30网段，根据自己网段习惯来即可)</ul><p><img data-src="https://raw.githubusercontent.com/Olimiya/PicBed/main/image-20220409220840596.png" alt="image-20220409220612184" data-proofer-ignore></p><li><p>修改虚拟机设置，将网络适配器修改为“NAT模式”</p><p><img data-src="https://raw.githubusercontent.com/Olimiya/PicBed/main/image-20220409222825677.png" alt="image-20220409220840596" data-proofer-ignore></p><li><p>看上图可以看到，NAT有一个虚拟的DHCP服务器。所以默认就是通过DHCP动态分配IP的，所以虚拟机内部一般无需配置。检查一下是否选择的是默认的DHCP分配即可。</p></ul><h3 id="nat模式的选择"><span class="mr-2">NAT模式的选择</span><a href="#nat模式的选择" class="anchor text-muted"><i class="iconfont icon-hashtag"></i></a></h3><p>NAT模式的特点：</p><ul><li>虚拟机和宿主机组成小局域网，做到互联互通。<li>虚拟机通过宿主机访问外部网络（此时宿主机起到路由器作用），但外部网络不能访问虚拟机<li>虚拟机允许访问Internet互联网（当然宿主机必须可以访问互联网才行）</ul><p>第一点的实现，对于虚拟机来说，都处于NAT内网，自然就是一个局域网内，然后宿主机是通过Adapter VMnet8加入到这个局域网中。</p><p>第二点外部网络不能访问，就是NAT的特性，既是优点也是缺点。需要解决这个缺点可以考虑使用内网穿透。</p><p>那什么时候选择NAT呢：</p><ul><li>不能选择桥接模式时。<li>虚拟机内不能获取宿主机一样的上网条件。<li>IP地址紧张。<li>选择自动分配IP，懒得为静态IP做配置。</ul><h3 id="nat模式端口转发"><span class="mr-2">NAT模式端口转发</span><a href="#nat模式端口转发" class="anchor text-muted"><i class="iconfont icon-hashtag"></i></a></h3><p>当我们必须使用NAT模式，又需要暴露虚拟机内部的服务，又不想使用内网穿透时，可以考虑配置NAT端口转发。配置路径在：VMware-&gt;Workstation-&gt;编辑-&gt;虚拟网络编辑器，选择VMne8，NAT设置，端口转发添加规则。</p><p><img data-src="https://raw.githubusercontent.com/Olimiya/PicBed/main/image-20220409212924265.png" alt="image-20220409222825677" data-proofer-ignore></p><h2 id="仅主机模式"><span class="mr-2">仅主机模式</span><a href="#仅主机模式" class="anchor text-muted"><i class="iconfont icon-hashtag"></i></a></h2><p>主机模式用的较少。仅主机模式可有看成是NAT模式去除了虚拟NAT设备，然后使用VMware Network Adapter VMnet1虚拟网卡连接VMnet1虚拟交换机来与虚拟机通信的，Host-Only模式将虚拟机与外网隔开，使得虚拟机成为一个独立的系统，只与主机相互通讯。</p><p><img data-src="https://img-blog.csdnimg.cn/20190105215342320.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM5MTkyODI3,size_16,color_FFFFFF,t_70" alt="img" data-proofer-ignore></p><p>将上图与NAT模式的图对比，主要区别就在于去除了虚拟NAT设备，使用Vmnet1将主机网卡和虚拟机隔离开来。仅主机模式是指只有虚拟机和主机之间互相通信，但虚拟机也可以访问外界网络，只是不能收到外界网路的访问。所以该模式最大特点就是安全吧。</p><p>同样有DHCP服务器，所以虚拟机IP也是自动配置。</p><p>配置方式：</p><ul><li>进入VmWare-&gt;主菜单-&gt;虚拟网络编辑器</ul><p><img data-src="https://raw.githubusercontent.com/Olimiya/PicBed/main/bVbPieA" alt="image" data-proofer-ignore></p><ul><li>在网络列表中选择“VMnet1”,如果没有，可以点击“添加网络”按钮增加，为什么是VMnet1呢，这个应该是VMWare默认设置，当然是用其他网卡也是可以的。<li>选择“仅主机模式”<li>并选择“将主机虚拟适配器连接到此网络”和“是用本地DHCP服务将IP地址分配给虚拟机”选项<li>子网IP:10.10.10.0，子网掩码：255.255.255.0，我习惯将“仅主机模式”的子网网段配置为“10.10.10.0”，这个可以根据自己的喜好来设置。</ul><p><img data-src="https://raw.githubusercontent.com/Olimiya/PicBed/main/bVbPifL" alt="image" data-proofer-ignore></p><ul><li>然后修改虚拟机设置，将网络适配器修改为“仅主机模式”</ul><p><img data-src="https://raw.githubusercontent.com/Olimiya/PicBed/main/bVbPiiy" alt="image" data-proofer-ignore></p><h2 id="小结"><span class="mr-2">小结</span><a href="#小结" class="anchor text-muted"><i class="iconfont icon-hashtag"></i></a></h2><p>一些错误的说法：</p><ul><li>桥接模式：如果物理网卡可以上网，那么桥接的软网卡也没有问题了，这就是桥接上网的原理了。 （物理网卡能上网不代表虚拟机也能用同样方式上网）<li>NAT模式：主机更像是虚拟机们的”路由器”，通过VMnet8虚拟网卡为虚拟机分发地址。(虚拟机分发地址不是通过VMnet8，是虚拟DHCP服务器)<li>NAT模式：所以虚拟机能ping到主机的IP，但是主机ping不到虚拟机的IP。(虚拟机和主机可以相互ping)<li>仅主机模式：提供的是主机和虚拟机之间的网络互访。只想让虚拟机和主机之间有数据交换，而不想让虚拟机访问Internet，就要采用这个设置了。(仅主机模式同样可以上网)</ul><p>关于ping(即主机与虚拟机的连接情况)：</p><ul><li>桥接模式下，主机与虚拟机随便ping，毕竟就是一个网络内不同主机。如果ping不通，就是被主机主动拦截了，检查防火墙的情况，选择关闭或设置允许进入的网段。<li>NAT模式下，主机和虚拟机也可以通过VMnet8互相ping通。</ul><blockquote><p>区别 1、这三种模式都可以访问外网，只是访问方式不同 2、这三种模式都可以自动获取ip，手动填写的ip需要注意，</p><p>桥接模式，虚拟机当成主机旁，同一网段下的主机配置即可。</p><p>NAT模式，配置的虚拟DHCP网段，ip、网关、DHCP网段在同一网段下。禁用VMnet8网卡后，可连外网、不可连主机。</p><p>仅主机模式，配置的虚拟DHCP网段，ip、网关、DHCP网段在同一网段下。禁用VMnet1网卡后什么都连不上了。</p><p>选哪个 1、最省事的，选桥接模式，直接选择就可以用 2、NAT模式自动获取IP也很方便，需要注意开启VMnet8网卡 3、仅主机模式一般很少用，但是它安全，需要注意开启VMnet1网卡 ———————————————— 原文链接：<a href="https://blog.csdn.net/a__int__/article/details/111208626">https://blog.csdn.net/a__int__/article/details/111208626</a></p></blockquote><h2 id="其他情况"><span class="mr-2">其他情况</span><a href="#其他情况" class="anchor text-muted"><i class="iconfont icon-hashtag"></i></a></h2><p>如前言中提到，我是使用使用着重置了网络配置重新设置。并不是从零开始安装。因此碰到了更多一些情况。</p><ol><li><p>NAT模式无法使用。NAT根据上述配置完成后仍无法使用。WIN+R，services.msc，检查一下VM开头的服务，发现没有VMWare NAT Service服务(这个应该就是NAT模式中那个虚拟的NAT设备吧)，类似地那个VMWare DHCP Service可能也是。搜索了一下。解决方案：<strong>在虚拟网络编辑器中还原默认设置，然后重启电脑。</strong>即可恢复。如果还不行，再来一遍。(个人在这里卡了很久，因为我一开始就是还原默认设置之后开始配置NAT的，结果就是没有NAT服务。不太相信，结果还是重启试试解决的)。</p><li><p>类似第一点，VM这几个服务似乎会常驻后台。在不需要的情况下可自行关闭。不建议设置为手动，手动开启。个人试了一段时间，每次开VMvare前都忘记开一次，太麻烦了。关闭的脚本：</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="iconfont icon-code small"></i></span> <span class="code-header-right"><button class="button-copy" aria-label="copy" title-succeed="已复制！"><i class="iconfont icon-copy"></i></button></span></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre>net stop VMAuthdService
net stop VMnetDHCP
net stop <span class="s2">"VMware NAT Service"</span>
net stop VMUSBArbService
<span class="nb">echo </span>VM所有服务已关闭
</pre></table></code></div></div></ol><h1 id="wsl的网络配置">WSL的网络配置</h1><p>WSL2默认使用的是NAT模式。因此也存在上述NAT模式的一些问题。使用、配置和解释，先挖个坑在这里。</p><h1 id="总结">总结</h1><p>本文总结过程参考了多篇博客，有许多优秀的大佬总结得已经非常出色。重新写一遍主要是因为一个是形成自己的理解，另外是每篇博客都集中在某一个方面，个人在阅读、理解和测试之后汇总、总结了一遍。</p><p>在文章中引用了许多大佬的文章，大部分都标注了链接。如有侵权，请联系我删除。</p><p>完整的引用：</p><p>配置参考：<a href="https://segmentfault.com/a/1190000024580532">https://segmentfault.com/a/1190000024580532</a></p><p>原理参考：</p><p><a href="https://blog.csdn.net/qq_39192827/article/details/85872025">https://blog.csdn.net/qq_39192827/article/details/85872025</a></p><p><a href="https://blog.csdn.net/zlfing/article/details/76943895">https://blog.csdn.net/zlfing/article/details/76943895</a></p><p><a href="https://blog.csdn.net/a__int__/article/details/111208626">https://blog.csdn.net/a__int__/article/details/111208626</a></p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="iconfont icon-FolderOpen-1"></i> <a href='/categories/%E6%95%99%E7%A8%8B/'>教程</a></div><div class="post-tags"> <i class="iconfont icon-tag"></i> <a href="/tags/vmware/" class="post-tag no-text-decoration" >VMWare</a> <a href="/tags/%E8%99%9A%E6%8B%9F%E5%8C%96%E6%8A%80%E6%9C%AF/" class="post-tag no-text-decoration" >虚拟化技术</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> 本文由作者按照 <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> 进行授权</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">分享</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=VMWare%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%8E%A2%E8%AE%A8-%E6%A1%A5%E6%8E%A5%E3%80%81NAT%E3%80%81%E4%BB%85%E4%B8%BB%E6%9C%BA%E9%85%8D%E7%BD%AE+-+Olimi&url=https%3A%2F%2Folimiya.github.io%2Fposts%2FVMWare%25E8%2599%259A%25E6%258B%259F%25E6%259C%25BA%25E8%2581%2594%25E7%25BD%2591%25E9%2597%25AE%25E9%25A2%2598-%25E6%25A1%25A5%25E6%258E%25A5-NAT-%25E4%25BB%2585%25E4%25B8%25BB%25E6%259C%25BA%25E9%2585%258D%25E7%25BD%25AE%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="iconfont icon-twitter"></i> </a> <a href="https://lineit.line.me/share/ui?url=https%3A%2F%2Folimiya.github.io%2Fposts%2FVMWare%25E8%2599%259A%25E6%258B%259F%25E6%259C%25BA%25E8%2581%2594%25E7%25BD%2591%25E9%2597%25AE%25E9%25A2%2598-%25E6%25A1%25A5%25E6%258E%25A5-NAT-%25E4%25BB%2585%25E4%25B8%25BB%25E6%259C%25BA%25E9%2585%258D%25E7%25BD%25AE%2F&text=VMWare%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%8E%A2%E8%AE%A8-%E6%A1%A5%E6%8E%A5%E3%80%81NAT%E3%80%81%E4%BB%85%E4%B8%BB%E6%9C%BA%E9%85%8D%E7%BD%AE+-+Olimi" data-toggle="tooltip" data-placement="top" title="Line" target="_blank" rel="noopener" aria-label="Line"> <i class="iconfont icon-13"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=VMWare%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%8E%A2%E8%AE%A8-%E6%A1%A5%E6%8E%A5%E3%80%81NAT%E3%80%81%E4%BB%85%E4%B8%BB%E6%9C%BA%E9%85%8D%E7%BD%AE+-+Olimi&u=https%3A%2F%2Folimiya.github.io%2Fposts%2FVMWare%25E8%2599%259A%25E6%258B%259F%25E6%259C%25BA%25E8%2581%2594%25E7%25BD%2591%25E9%2597%25AE%25E9%25A2%2598-%25E6%25A1%25A5%25E6%258E%25A5-NAT-%25E4%25BB%2585%25E4%25B8%25BB%25E6%259C%25BA%25E9%2585%258D%25E7%25BD%25AE%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="iconfont icon-facebook"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Folimiya.github.io%2Fposts%2FVMWare%25E8%2599%259A%25E6%258B%259F%25E6%259C%25BA%25E8%2581%2594%25E7%25BD%2591%25E9%2597%25AE%25E9%25A2%2598-%25E6%25A1%25A5%25E6%258E%25A5-NAT-%25E4%25BB%2585%25E4%25B8%25BB%25E6%259C%25BA%25E9%2585%258D%25E7%25BD%25AE%2F&text=VMWare%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%8E%A2%E8%AE%A8-%E6%A1%A5%E6%8E%A5%E3%80%81NAT%E3%80%81%E4%BB%85%E4%B8%BB%E6%9C%BA%E9%85%8D%E7%BD%AE+-+Olimi" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="iconfont icon-telegram"></i> </a> <a href="http://connect.qq.com/widget/shareqq/index.html?url=https%3A%2F%2Folimiya.github.io%2Fposts%2FVMWare%25E8%2599%259A%25E6%258B%259F%25E6%259C%25BA%25E8%2581%2594%25E7%25BD%2591%25E9%2597%25AE%25E9%25A2%2598-%25E6%25A1%25A5%25E6%258E%25A5-NAT-%25E4%25BB%2585%25E4%25B8%25BB%25E6%259C%25BA%25E9%2585%258D%25E7%25BD%25AE%2F&title=VMWare%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%8E%A2%E8%AE%A8-%E6%A1%A5%E6%8E%A5%E3%80%81NAT%E3%80%81%E4%BB%85%E4%B8%BB%E6%9C%BA%E9%85%8D%E7%BD%AE+-+Olimi" data-toggle="tooltip" data-placement="top" title="QQ" target="_blank" rel="noopener" aria-label="QQ"> <i class="iconfont icon-QQ"></i> </a> <a href="https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=https%3A%2F%2Folimiya.github.io%2Fposts%2FVMWare%25E8%2599%259A%25E6%258B%259F%25E6%259C%25BA%25E8%2581%2594%25E7%25BD%2591%25E9%2597%25AE%25E9%25A2%2598-%25E6%25A1%25A5%25E6%258E%25A5-NAT-%25E4%25BB%2585%25E4%25B8%25BB%25E6%259C%25BA%25E9%2585%258D%25E7%25BD%25AE%2F&title=VMWare%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%8E%A2%E8%AE%A8-%E6%A1%A5%E6%8E%A5%E3%80%81NAT%E3%80%81%E4%BB%85%E4%B8%BB%E6%9C%BA%E9%85%8D%E7%BD%AE+-+Olimi" data-toggle="tooltip" data-placement="top" title="QQ 空间" target="_blank" rel="noopener" aria-label="QQ 空间"> <i class="iconfont icon-qzone"></i> </a> <a href="http://service.weibo.com/share/share.php?title=VMWare%E8%99%9A%E6%8B%9F%E6%9C%BA%E7%BD%91%E7%BB%9C%E6%8E%A2%E8%AE%A8-%E6%A1%A5%E6%8E%A5%E3%80%81NAT%E3%80%81%E4%BB%85%E4%B8%BB%E6%9C%BA%E9%85%8D%E7%BD%AE+-+Olimi&url=https%3A%2F%2Folimiya.github.io%2Fposts%2FVMWare%25E8%2599%259A%25E6%258B%259F%25E6%259C%25BA%25E8%2581%2594%25E7%25BD%2591%25E9%2597%25AE%25E9%25A2%2598-%25E6%25A1%25A5%25E6%258E%25A5-NAT-%25E4%25BB%2585%25E4%25B8%25BB%25E6%259C%25BA%25E9%2585%258D%25E7%25BD%25AE%2F" data-toggle="tooltip" data-placement="top" title="微博" target="_blank" rel="noopener" aria-label="微博"> <i class="iconfont icon-weibo"></i> </a> <i id="copy-link" class="iconfont icon-link small" data-toggle="tooltip" data-placement="top" title="分享链接" data-title-succeed="链接已复制！"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">最近更新</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%80%BB%E7%BB%93-Windows%E5%8C%85%E7%AE%A1%E7%90%86%E5%99%A8/">命令行总结-Windows包管理器</a><li><a href="/posts/GithubPage/">GithubPage</a><li><a href="/posts/Windows-Terminal-+-WSL-+-Ubuntu-+-%E5%9B%BE%E5%BD%A2%E5%8C%96-%E7%BB%88%E7%AB%AF%E9%85%8D%E7%BD%AE%E6%80%BB%E7%BB%93/">Windows Terminal + WSL + Ubuntu + 图形化 总结</a><li><a href="/posts/%E4%B8%AA%E4%BA%BA%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%8C%87%E5%8D%97/">个人云服务器指南</a><li><a href="/posts/%E6%97%A7%E9%85%8D%E7%BD%AE%E7%AC%94%E8%AE%B0%E6%9C%AC%E6%9B%B4%E6%96%B0Windows11-CPU%E4%B8%8D%E5%85%BC%E5%AE%B9/">旧配置笔记本更新windows11 Cpu不兼容</a></ul></div><div id="access-links"><div class="panel-heading">外部链接</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="https://996.icu" target="_blank"> <img src="https://img.shields.io/badge/link-996.icu-red.svg" alt="996.icu" /> </a><li><a href="https://github.com/Olimiya/olimiya.github.io" target="_blank"> <i class="iconfont icon-github"></i> &nbsp;此博客的 Github 仓库 </a></ul></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">文章内容</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>相关文章</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/Linux%E8%B5%84%E6%BA%90%E9%85%8D%E7%BD%AE/"><div class="card-body"> <em class="timeago small" data-ts="1649692800" > 2022-04-12 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Linux常用命令总结</h3><div class="text-muted small"><p> 参考API网址：Linux 命令大全 Linux资源配置 查看 汇总 查看系统配置，汇总信息CPU、内存、硬盘、网络等等： 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 4...</p></div></div></a></div><div class="card"> <a href="/posts/Markdown/"><div class="card-body"> <em class="timeago small" data-ts="1650459778" > 2022-04-20 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Markdown语法及测试</h3><div class="text-muted small"><p> 前言 总结一下常用的一些MD语法，以及针对于Chirpy主题渲染的一些指令。同时对各个MD Snippets在VSCode、Typora中分别测试一下快捷键和使用。 使用的环境：本地Typora、Web端Jekyll+Chirpy主题 MD语法教程：https://www.runoob.com/markdown/md-tutorial.html Chirpy 语法讲解 效果 个人将...</p></div></div></a></div><div class="card"> <a href="/posts/%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83%E6%B1%87%E6%80%BB-%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0/"><div class="card-body"> <em class="timeago small" data-ts="1581149160" > 2020-02-08 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>编码规范汇总【持续更新】/C++/C#</h3><div class="text-muted small"><p> 前言 作为软件工程师，出产物就应该具备工程的健壮性和美观性。因此代码规范是作为软件工程师的职业素养。但总所周知，程序员的工作基本就是在维护一座屎山，这确实是现实中种种客观条件约束下导致的。 记录本篇博客，也是希望本人在打码过程，能够保持负责任的初心，以及追求完美的极客精神吧。 诸君共勉。愿人间没有ugly的代码。 规范标准 首先列出一些常见的编码规范。 C++规范 一． 变量声...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/Windows-Terminal-+-WSL-+-Ubuntu-+-%E5%9B%BE%E5%BD%A2%E5%8C%96-%E7%BB%88%E7%AB%AF%E9%85%8D%E7%BD%AE%E6%80%BB%E7%BB%93/" class="btn btn-outline-primary" prompt="上一篇"><p>Windows Terminal + WSL + Ubuntu + 图形化 总结</p></a> <a href="/posts/Linux%E5%A4%A7%E5%86%85%E5%AD%98%E5%BA%94%E7%94%A8%E8%BF%9B%E7%A8%8B%E8%A2%AB%E6%9D%80-%E8%AF%BB%E5%86%994GB%E6%96%87%E4%BB%B6%E8%AE%B0%E5%BD%95/" class="btn btn-outline-primary" prompt="下一篇"><p>Linux大内存应用进程被杀-读写4GB文件记录</p></a></div><div id="waline"></div><script> function loadWaline() { var s = document.createElement('script'); s.setAttribute('src', '//cdn.jsdelivr.net/npm/@waline/client'); s.async = false; document.body.appendChild(s); s.onload = () => { var valine = Waline({ el: '#waline', serverURL: 'https://waline.olimi.icu/', emoji: [ 'https://cdn.jsdelivr.net/gh/walinejs/emojis@1.0.0/qq', 'https://cdn.jsdelivr.net/gh/walinejs/emojis@1.0.0/tieba', 'https://cdn.jsdelivr.net/gh/walinejs/emojis@1.0.0/tw-emoji', 'https://cdn.jsdelivr.net/gh/walinejs/emojis@1.0.0/bilibili', ], dark: 'html[data-mode=dark]', avatar: 'mp', placeholder: '说点什么吧！', }); }; }; setTimeout(function () { if ("IntersectionObserver" in window) { var io = new IntersectionObserver(function (entries) { if (entries[0].isIntersecting) { loadWaline(); io.disconnect(); } }); io.observe(document.getElementById('waline')); } else { loadWaline(); } }, 1); </script></div></div></div><footer class="d-flex w-100 justify-content-center"> <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"> </script><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://olimiya.github.io/">Olimi</a>. <span data-toggle="tooltip" data-placement="top" title="除非另有说明，本网站上的博客文章均由作者按照知识共享署名 4.0 国际 (CC BY 4.0) 许可协议进行授权。">保留部分权利。</span> <span id="busuanzi_container_site_uv">总访客数<span id="busuanzi_value_site_uv"></span>人。</span></p></div><div class="footer-middle"><p class="mb-0"> <a href="http://beian.miit.gov.cn/" target="_blank">粤ICP备号</a></p></div><div class="footer-right"><p class="mb-0"> 本站由 <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> 生成，采用 <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> 主题。</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">热门标签</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/%E8%AE%B0%E5%BD%95/">记录</a> <a class="post-tag" href="/tags/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E/">游戏引擎</a> <a class="post-tag" href="/tags/windows/">windows</a> <a class="post-tag" href="/tags/linux%E7%BC%96%E7%A8%8B/">Linux编程</a> <a class="post-tag" href="/tags/%E6%BC%AB%E8%B0%88/">漫谈</a> <a class="post-tag" href="/tags/%E7%BD%91%E7%AB%99/">网站</a> <a class="post-tag" href="/tags/c/">C++</a> <a class="post-tag" href="/tags/git/">Git</a> <a class="post-tag" href="/tags/markdown/">Markdown</a> <a class="post-tag" href="/tags/shell/">shell</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="iconfont icon-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">搜索结果为空</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="iconfont icon-folder"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="iconfont icon-tag"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/zh.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-NKV7205XPP"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-NKV7205XPP'); }); </script>
