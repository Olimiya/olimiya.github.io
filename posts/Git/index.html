<!DOCTYPE html><html lang="zh-CN" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.3.1" /><meta property="og:title" content="Git" /><meta name="author" content="Olimi" /><meta property="og:locale" content="zh_CN" /><meta name="description" content="关于Git由浅入深的教程。" /><meta property="og:description" content="关于Git由浅入深的教程。" /><link rel="canonical" href="https://olimiya.github.io/posts/Git/" /><meta property="og:url" content="https://olimiya.github.io/posts/Git/" /><meta property="og:site_name" content="Olimi" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-03-18T10:18:19+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Git" /><meta name="twitter:site" content="@olimi861921648" /><meta name="twitter:creator" content="@olimi861921648" /><meta name="google-site-verification" content="g9ctzJLPpJ3wh5a6Bk6kvp7UAB5N22zIe2V2PZE72TA" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Olimi","url":"https://olimiya.github.io/"},"dateModified":"2022-11-13T16:00:07+08:00","datePublished":"2022-03-18T10:18:19+08:00","description":"关于Git由浅入深的教程。","headline":"Git","mainEntityOfPage":{"@type":"WebPage","@id":"https://olimiya.github.io/posts/Git/"},"url":"https://olimiya.github.io/posts/Git/"}</script><title>Git | Olimi</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Olimi"><meta name="application-name" content="Olimi"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_2440352_86vrobdp9vu.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_2451185_tgvgeuen2lh.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/tonsky/FiraCode@5.2/distr/fira_code.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="/avatar.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Olimi</a></div><div class="site-subtitle font-italic">来者是客</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="iconfont icon-home ml-xl-3 mr-xl-3 unloaded"></i> <span>首页</span> </a><li class="nav-item"> <a href="/subdomain/" class="nav-link"> <i class="iconfont icon-buywebhostingstep1domain ml-xl-3 mr-xl-3 unloaded"></i> <span>子域</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="iconfont icon-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>分类</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="iconfont icon-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>标签</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="iconfont icon-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>归档</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="iconfont icon-info ml-xl-3 mr-xl-3 unloaded"></i> <span>关于</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="iconfont icon-adjust1"></i> </button> <span class="icon-border"></span> <a href="https://github.com/olimiya" aria-label="github" target="_blank" rel="noopener"> <i class="iconfont icon-github"></i> </a> <a href="https://twitter.com/olimi861921648" aria-label="twitter" target="_blank" rel="noopener"> <i class="iconfont icon-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['olimi861921648','gmail.com'].join('@')" aria-label="email" > <i class="iconfont icon-mail"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="iconfont icon-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> 首页 </a> </span> <span>Git</span> </span> <i id="sidebar-trigger" class="iconfont icon-bars"></i><div id="topbar-title"> 文章</div><i id="search-trigger" class="iconfont icon-search"></i> <span id="search-wrapper" class="align-items-center"> <i class="iconfont icon-search"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="搜索..."> </span> <span id="search-cancel" >取消</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Git</h1><div class="post-meta text-muted"><div> 作者 <em> <a href="https://olimiya.github.io/">Olimi</a> </em></div><div class="d-flex"><div> <span> 发表于 <em class="timeago" data-ts="1647569899" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-03-18 </em> </span> <span> 更新于 <em class="timeago" data-ts="1668326407" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2022-11-13 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="4218 字"> <em>23 分钟</em>阅读</span> <span id="busuanzi_container_page_pv"> 阅读量:<span id="busuanzi_value_page_pv"></span> </span></div></div></div><div class="post-content"><h2 id="git-reference"><span class="mr-2">Git Reference</span><a href="#git-reference" class="anchor text-muted"><i class="iconfont icon-hashtag"></i></a></h2><p>Git教程：<a href="https://www.liaoxuefeng.com/wiki/896043488029600">https://www.liaoxuefeng.com/wiki/896043488029600</a></p><p>Git 教程Pro：<a href="https://gitee.com/progit/">https://gitee.com/progit/</a>（推荐）</p><h2 id="git基础"><span class="mr-2">Git基础</span><a href="#git基础" class="anchor text-muted"><i class="iconfont icon-hashtag"></i></a></h2><h3 id="常用命令"><span class="mr-2">常用命令</span><a href="#常用命令" class="anchor text-muted"><i class="iconfont icon-hashtag"></i></a></h3><h4 id="仓库"><span class="mr-2">仓库</span><a href="#仓库" class="anchor text-muted"><i class="iconfont icon-hashtag"></i></a></h4><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="iconfont icon-code small"></i></span> <span class="code-header-right"><button class="button-copy" aria-label="copy" title-succeed="已复制！"><i class="iconfont icon-copy"></i></button></span></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="c"># 在当前目录新建一个Git代码库</span>
<span class="nv">$ </span>git init

<span class="c"># 新建一个目录，将其初始化为Git代码库</span>
<span class="nv">$ </span>git init <span class="o">[</span>project-name]

<span class="c"># 下载一个项目和它的整个代码历史</span>
<span class="nv">$ </span>git clone <span class="o">[</span>url]
</pre></table></code></div></div><hr /><h4 id="配置"><span class="mr-2">配置</span><a href="#配置" class="anchor text-muted"><i class="iconfont icon-hashtag"></i></a></h4><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="iconfont icon-code small"></i></span> <span class="code-header-right"><button class="button-copy" aria-label="copy" title-succeed="已复制！"><i class="iconfont icon-copy"></i></button></span></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="c"># 显示当前的Git配置</span>
<span class="nv">$ </span>git config <span class="nt">--list</span>

<span class="c"># 编辑Git配置文件</span>
<span class="nv">$ </span>git config <span class="nt">-e</span> <span class="o">[</span><span class="nt">--global</span><span class="o">]</span>

<span class="c"># 设置提交代码时的用户信息</span>
<span class="nv">$ </span>git config <span class="o">[</span><span class="nt">--global</span><span class="o">]</span> user.name <span class="s2">"[name]"</span>
<span class="nv">$ </span>git config <span class="o">[</span><span class="nt">--global</span><span class="o">]</span> user.email <span class="s2">"[email address]"</span>
</pre></table></code></div></div><hr /><h4 id="增加删除文件"><span class="mr-2">增加/删除文件</span><a href="#增加删除文件" class="anchor text-muted"><i class="iconfont icon-hashtag"></i></a></h4><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="iconfont icon-code small"></i></span> <span class="code-header-right"><button class="button-copy" aria-label="copy" title-succeed="已复制！"><i class="iconfont icon-copy"></i></button></span></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre><td class="rouge-code"><pre><span class="c"># 添加指定文件到暂存区</span>
<span class="nv">$ </span>git add <span class="o">[</span>file1] <span class="o">[</span>file2] ...

<span class="c"># 添加指定目录到暂存区，包括子目录</span>
<span class="nv">$ </span>git add <span class="o">[</span><span class="nb">dir</span><span class="o">]</span>

<span class="c"># 添加当前目录的所有文件到暂存区</span>
<span class="nv">$ </span>git add <span class="nb">.</span>

<span class="c"># 添加每个变化前，都会要求确认</span>
<span class="c"># 对于同一个文件的多处变化，可以实现分次提交</span>
<span class="nv">$ </span>git add <span class="nt">-p</span>

<span class="c"># 删除工作区文件，并且将这次删除放入暂存区</span>
<span class="nv">$ </span>git <span class="nb">rm</span> <span class="o">[</span>file1] <span class="o">[</span>file2] ...

<span class="c"># 停止追踪指定文件，但该文件会保留在工作区</span>
<span class="nv">$ </span>git <span class="nb">rm</span> <span class="nt">--cached</span> <span class="o">[</span>file]

<span class="c"># 改名文件，并且将这个改名放入暂存区</span>
<span class="nv">$ </span>git <span class="nb">mv</span> <span class="o">[</span>file-original] <span class="o">[</span>file-renamed]
</pre></table></code></div></div><hr /><h4 id="代码提交"><span class="mr-2">代码提交</span><a href="#代码提交" class="anchor text-muted"><i class="iconfont icon-hashtag"></i></a></h4><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="iconfont icon-code small"></i></span> <span class="code-header-right"><button class="button-copy" aria-label="copy" title-succeed="已复制！"><i class="iconfont icon-copy"></i></button></span></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
</pre><td class="rouge-code"><pre><span class="c"># 提交暂存区到仓库区</span>
<span class="nv">$ </span>git commit <span class="nt">-m</span> <span class="o">[</span>message]

<span class="c"># 提交暂存区的指定文件到仓库区</span>
<span class="nv">$ </span>git commit <span class="o">[</span>file1] <span class="o">[</span>file2] ... <span class="nt">-m</span> <span class="o">[</span>message]

<span class="c"># 提交工作区自上次commit之后的变化，直接到仓库区</span>
<span class="nv">$ </span>git commit <span class="nt">-a</span>

<span class="c"># 提交时显示所有diff信息</span>
<span class="nv">$ </span>git commit <span class="nt">-v</span>

<span class="c"># 使用一次新的commit，替代上一次提交</span>
<span class="c"># 如果代码没有任何新变化，则用来改写上一次commit的提交信息</span>
<span class="nv">$ </span>git commit <span class="nt">--amend</span> <span class="nt">-m</span> <span class="o">[</span>message]

<span class="c"># 重做上一次commit，并包括指定文件的新变化</span>
<span class="nv">$ </span>git commit <span class="nt">--amend</span> <span class="o">[</span>file1] <span class="o">[</span>file2] ...
</pre></table></code></div></div><hr /><h4 id="分支"><span class="mr-2">分支</span><a href="#分支" class="anchor text-muted"><i class="iconfont icon-hashtag"></i></a></h4><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="iconfont icon-code small"></i></span> <span class="code-header-right"><button class="button-copy" aria-label="copy" title-succeed="已复制！"><i class="iconfont icon-copy"></i></button></span></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
</pre><td class="rouge-code"><pre><span class="c"># 列出所有本地分支</span>
<span class="nv">$ </span>git branch

<span class="c"># 列出所有远程分支</span>
<span class="nv">$ </span>git branch <span class="nt">-r</span>

<span class="c"># 列出所有本地分支和远程分支</span>
<span class="nv">$ </span>git branch <span class="nt">-a</span>

<span class="c"># 新建一个分支，但依然停留在当前分支</span>
<span class="nv">$ </span>git branch <span class="o">[</span>branch-name]

<span class="c"># 新建一个分支，并切换到该分支</span>
<span class="nv">$ </span>git checkout <span class="nt">-b</span> <span class="o">[</span>branch]

<span class="c"># 新建一个分支，指向指定commit</span>
<span class="nv">$ </span>git branch <span class="o">[</span>branch] <span class="o">[</span>commit]

<span class="c"># 新建一个分支，与指定的远程分支建立追踪关系</span>
<span class="nv">$ </span>git branch <span class="nt">--track</span> <span class="o">[</span>branch] <span class="o">[</span>remote-branch]

<span class="c"># 切换到指定分支，并更新工作区</span>
<span class="nv">$ </span>git checkout <span class="o">[</span>branch-name]

<span class="c"># 切换到上一个分支</span>
<span class="nv">$ </span>git checkout -

<span class="c"># 建立追踪关系，在现有分支与指定的远程分支之间</span>
<span class="nv">$ </span>git branch <span class="nt">--set-upstream</span> <span class="o">[</span>branch] <span class="o">[</span>remote-branch]

<span class="c"># 合并指定分支到当前分支</span>
<span class="nv">$ </span>git merge <span class="o">[</span>branch]

<span class="c"># 选择一个commit，合并进当前分支</span>
<span class="nv">$ </span>git cherry-pick <span class="o">[</span>commit]

<span class="c"># 删除分支</span>
<span class="nv">$ </span>git branch <span class="nt">-d</span> <span class="o">[</span>branch-name]

<span class="c"># 删除远程分支</span>
<span class="nv">$ </span>git push origin <span class="nt">--delete</span> <span class="o">[</span>branch-name]
<span class="nv">$ </span>git branch <span class="nt">-dr</span> <span class="o">[</span>remote/branch]
</pre></table></code></div></div><hr /><h4 id="标签"><span class="mr-2">标签</span><a href="#标签" class="anchor text-muted"><i class="iconfont icon-hashtag"></i></a></h4><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="iconfont icon-code small"></i></span> <span class="code-header-right"><button class="button-copy" aria-label="copy" title-succeed="已复制！"><i class="iconfont icon-copy"></i></button></span></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
</pre><td class="rouge-code"><pre><span class="c"># 列出所有tag</span>
<span class="nv">$ </span>git tag

<span class="c"># 新建一个tag在当前commit</span>
<span class="nv">$ </span>git tag <span class="o">[</span>tag]

<span class="c"># 新建一个tag在指定commit</span>
<span class="nv">$ </span>git tag <span class="o">[</span>tag] <span class="o">[</span>commit]

<span class="c"># 删除本地tag</span>
<span class="nv">$ </span>git tag <span class="nt">-d</span> <span class="o">[</span>tag]

<span class="c"># 删除远程tag</span>
<span class="nv">$ </span>git push origin :refs/tags/[tagName]

<span class="c"># 查看tag信息</span>
<span class="nv">$ </span>git show <span class="o">[</span>tag]

<span class="c"># 提交指定tag</span>
<span class="nv">$ </span>git push <span class="o">[</span>remote] <span class="o">[</span>tag]

<span class="c"># 提交所有tag</span>
<span class="nv">$ </span>git push <span class="o">[</span>remote] <span class="nt">--tags</span>

<span class="c"># 新建一个分支，指向某个tag</span>
<span class="nv">$ </span>git checkout <span class="nt">-b</span> <span class="o">[</span>branch] <span class="o">[</span>tag]
</pre></table></code></div></div><hr /><h4 id="查看信息"><span class="mr-2">查看信息</span><a href="#查看信息" class="anchor text-muted"><i class="iconfont icon-hashtag"></i></a></h4><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="iconfont icon-code small"></i></span> <span class="code-header-right"><button class="button-copy" aria-label="copy" title-succeed="已复制！"><i class="iconfont icon-copy"></i></button></span></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
</pre><td class="rouge-code"><pre><span class="c"># 显示有变更的文件</span>
<span class="nv">$ </span>git status

<span class="c"># 显示当前分支的版本历史</span>
<span class="nv">$ </span>git log

<span class="c"># 显示commit历史，以及每次commit发生变更的文件</span>
<span class="nv">$ </span>git log <span class="nt">--stat</span>

<span class="c"># 搜索提交历史，根据关键词</span>
<span class="nv">$ </span>git log <span class="nt">-S</span> <span class="o">[</span>keyword]

<span class="c"># 显示某个commit之后的所有变动，每个commit占据一行</span>
<span class="nv">$ </span>git log <span class="o">[</span>tag] HEAD <span class="nt">--pretty</span><span class="o">=</span>format:%s

<span class="c"># 显示某个commit之后的所有变动，其"提交说明"必须符合搜索条件</span>
<span class="nv">$ </span>git log <span class="o">[</span>tag] HEAD <span class="nt">--grep</span> feature

<span class="c"># 显示某个文件的版本历史，包括文件改名</span>
<span class="nv">$ </span>git log <span class="nt">--follow</span> <span class="o">[</span>file]
<span class="nv">$ </span>git whatchanged <span class="o">[</span>file]

<span class="c"># 显示指定文件相关的每一次diff</span>
<span class="nv">$ </span>git log <span class="nt">-p</span> <span class="o">[</span>file]

<span class="c"># 显示过去5次提交</span>
<span class="nv">$ </span>git log <span class="nt">-5</span> <span class="nt">--pretty</span> <span class="nt">--oneline</span>

<span class="c"># 显示所有提交过的用户，按提交次数排序</span>
<span class="nv">$ </span>git shortlog <span class="nt">-sn</span>

<span class="c"># 显示指定文件是什么人在什么时间修改过</span>
<span class="nv">$ </span>git blame <span class="o">[</span>file]

<span class="c"># 显示暂存区和工作区的差异</span>
<span class="nv">$ </span>git diff

<span class="c"># 显示暂存区和上一个commit的差异</span>
<span class="nv">$ </span>git diff <span class="nt">--cached</span> <span class="o">[</span>file]

<span class="c"># 显示工作区与当前分支最新commit之间的差异</span>
<span class="nv">$ </span>git diff HEAD

<span class="c"># 显示两次提交之间的差异</span>
<span class="nv">$ </span>git diff <span class="o">[</span>first-branch]...[second-branch]

<span class="c"># 显示今天你写了多少行代码</span>
<span class="nv">$ </span>git diff <span class="nt">--shortstat</span> <span class="s2">"@{0 day ago}"</span>

<span class="c"># 显示某次提交的元数据和内容变化</span>
<span class="nv">$ </span>git show <span class="o">[</span>commit]

<span class="c"># 显示某次提交发生变化的文件</span>
<span class="nv">$ </span>git show <span class="nt">--name-only</span> <span class="o">[</span>commit]

<span class="c"># 显示某次提交时，某个文件的内容</span>
<span class="nv">$ </span>git show <span class="o">[</span>commit]:[filename]

<span class="c"># 显示当前分支的最近几次提交</span>
<span class="nv">$ </span>git reflog
</pre></table></code></div></div><hr /><h4 id="远程同步"><span class="mr-2">远程同步</span><a href="#远程同步" class="anchor text-muted"><i class="iconfont icon-hashtag"></i></a></h4><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="iconfont icon-code small"></i></span> <span class="code-header-right"><button class="button-copy" aria-label="copy" title-succeed="已复制！"><i class="iconfont icon-copy"></i></button></span></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
</pre><td class="rouge-code"><pre><span class="c"># 下载远程仓库的所有变动</span>
<span class="nv">$ </span>git fetch <span class="o">[</span>remote]

<span class="c"># 显示所有远程仓库</span>
<span class="nv">$ </span>git remote <span class="nt">-v</span>

<span class="c"># 显示某个远程仓库的信息</span>
<span class="nv">$ </span>git remote show <span class="o">[</span>remote]

<span class="c"># 增加一个新的远程仓库，并命名</span>
<span class="nv">$ </span>git remote add <span class="o">[</span>shortname] <span class="o">[</span>url]

<span class="c"># 取回远程仓库的变化，并与本地分支合并</span>
<span class="nv">$ </span>git pull <span class="o">[</span>remote] <span class="o">[</span>branch]

<span class="c"># 上传本地指定分支到远程仓库</span>
<span class="nv">$ </span>git push <span class="o">[</span>remote] <span class="o">[</span>branch]

<span class="c"># 强行推送当前分支到远程仓库，即使有冲突</span>
<span class="nv">$ </span>git push <span class="o">[</span>remote] <span class="nt">--force</span>

<span class="c"># 推送所有分支到远程仓库</span>
<span class="nv">$ </span>git push <span class="o">[</span>remote] <span class="nt">--all</span>
</pre></table></code></div></div><hr /><h4 id="撤销"><span class="mr-2">撤销</span><a href="#撤销" class="anchor text-muted"><i class="iconfont icon-hashtag"></i></a></h4><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="iconfont icon-code small"></i></span> <span class="code-header-right"><button class="button-copy" aria-label="copy" title-succeed="已复制！"><i class="iconfont icon-copy"></i></button></span></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
</pre><td class="rouge-code"><pre><span class="c"># 恢复暂存区的指定文件到工作区</span>
<span class="nv">$ </span>git checkout <span class="o">[</span>file]

<span class="c"># 恢复某个commit的指定文件到暂存区和工作区</span>
<span class="nv">$ </span>git checkout <span class="o">[</span>commit] <span class="o">[</span>file]

<span class="c"># 恢复暂存区的所有文件到工作区</span>
<span class="nv">$ </span>git checkout <span class="nb">.</span>

<span class="c"># 重置暂存区的指定文件，与上一次commit保持一致，但工作区不变</span>
<span class="nv">$ </span>git reset <span class="o">[</span>file]

<span class="c"># 重置暂存区与工作区，与上一次commit保持一致</span>
<span class="nv">$ </span>git reset <span class="nt">--hard</span>

<span class="c"># 重置当前分支的指针为指定commit，同时重置暂存区，但工作区不变</span>
<span class="nv">$ </span>git reset <span class="o">[</span>commit]

<span class="c"># 重置当前分支的HEAD为指定commit，同时重置暂存区和工作区，与指定commit一致</span>
<span class="nv">$ </span>git reset <span class="nt">--hard</span> <span class="o">[</span>commit]

<span class="c"># 重置当前HEAD为指定commit，但保持暂存区和工作区不变</span>
<span class="nv">$ </span>git reset <span class="nt">--keep</span> <span class="o">[</span>commit]

<span class="c"># 新建一个commit，用来撤销指定commit</span>
<span class="c"># 后者的所有变化都将被前者抵消，并且应用到当前分支</span>
<span class="nv">$ </span>git revert <span class="o">[</span>commit]

暂时将未提交的变化移除，稍后再移入
<span class="nv">$ </span>git stash
<span class="nv">$ </span>git stash pop
</pre></table></code></div></div><hr /><h4 id="其他"><span class="mr-2">其他</span><a href="#其他" class="anchor text-muted"><i class="iconfont icon-hashtag"></i></a></h4><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="iconfont icon-code small"></i></span> <span class="code-header-right"><button class="button-copy" aria-label="copy" title-succeed="已复制！"><i class="iconfont icon-copy"></i></button></span></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="c"># 生成一个可供发布的压缩包</span>
<span class="nv">$ </span>git archive
</pre></table></code></div></div><p>From 阮一峰老师的博客文章《常用 Git 命令清单》</p><h3 id="git仓库"><span class="mr-2">Git仓库</span><a href="#git仓库" class="anchor text-muted"><i class="iconfont icon-hashtag"></i></a></h3><p>与Git仓库打交道一般有两种方式。第一种是已有云端项目(开源项目或者项目组的项目)，拉取下来进行二次开发；第二种是有一个本地仓库，开发完成后(或者维护中)发布到类似于Github等云端仓库。但是要明确的是，Git是一种<strong>分布式版本管理系统</strong>，它并不依赖于云端仓库的存在。</p><p>因此以本地仓库，从零开始进行Git仓库管理。</p><p>首先，创建一个空的文件夹(或者把一个已有的路径作为仓库)，在此处打开终端，输入</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="iconfont icon-code small"></i></span> <span class="code-header-right"><button class="button-copy" aria-label="copy" title-succeed="已复制！"><i class="iconfont icon-copy"></i></button></span></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>git init
</pre></table></code></div></div><p>如果是第一种情况，从云端拉取项目开始，只需要改为<code class="language-plaintext highlighter-rouge">git clone url</code>.</p><p>此时可以看到文件夹中增加了一个.git文件夹，该文件夹即git维护本地仓库的储存路径，里面将包含该仓库所有的信息，包括不同版本、各分支、提交记录等全部信息。如果我们使用<code class="language-plaintext highlighter-rouge">git clone</code>命令，观察一下该命令，举例：</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="iconfont icon-code small"></i></span> <span class="code-header-right"><button class="button-copy" aria-label="copy" title-succeed="已复制！"><i class="iconfont icon-copy"></i></button></span></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>git clone https://github.com/Olimiya/olimiya.github.io.git
</pre></table></code></div></div><p>可以看到本质上就是从xxx.git从取出相应的数据和信息进行拷贝分发。</p><p>回到我们空的目录。添加文件README，把它放入版本控制中：</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="iconfont icon-code small"></i></span> <span class="code-header-right"><button class="button-copy" aria-label="copy" title-succeed="已复制！"><i class="iconfont icon-copy"></i></button></span></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>git add README
git commit <span class="nt">-m</span> <span class="s2">"init repository"</span>
</pre></table></code></div></div><p>对于已有的文件夹，要添加所有已有的文件，使用匹配符，<code class="language-plaintext highlighter-rouge">git add .</code></p><p>此时我们得到了一个Git版本控制仓库。</p><h3 id="状态变更和回退"><span class="mr-2">状态、变更和回退</span><a href="#状态变更和回退" class="anchor text-muted"><i class="iconfont icon-hashtag"></i></a></h3><p>进一步理解Git版本变更的处理，以便于加以控制。</p><p><img data-src="https://gitee.com/progit/figures/18333fig0201-tn.png" alt="img" data-proofer-ignore></p><p>使用<code class="language-plaintext highlighter-rouge">git status</code>查看一下仓库现在的状态：</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="iconfont icon-code small"></i></span> <span class="code-header-right"><button class="button-copy" aria-label="copy" title-succeed="已复制！"><i class="iconfont icon-copy"></i></button></span></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="nv">$ </span>git status
On branch master
nothing to commit, working tree clean
</pre></table></code></div></div><p>Oh clean，让人喜悦的描述。修改一下已有的README(比如在最后加一个hello world)，再查看一次：</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="iconfont icon-code small"></i></span> <span class="code-header-right"><button class="button-copy" aria-label="copy" title-succeed="已复制！"><i class="iconfont icon-copy"></i></button></span></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre><span class="nv">$ </span>git status
On branch master
Changes not staged <span class="k">for </span>commit:
  <span class="o">(</span>use <span class="s2">"git add &lt;file&gt;..."</span> to update what will be committed<span class="o">)</span>
  <span class="o">(</span>use <span class="s2">"git restore &lt;file&gt;..."</span> to discard changes <span class="k">in </span>working directory<span class="o">)</span>
        modified:   README

no changes added to commit <span class="o">(</span>use <span class="s2">"git add"</span> and/or <span class="s2">"git commit -a"</span><span class="o">)</span>
</pre></table></code></div></div><p>修改文件使该文件变成了<strong>modified</strong>，并且由于修改后没有提交，所以是<strong>Changes not staged for commit</strong>。</p><p>我们使用<code class="language-plaintext highlighter-rouge">git add</code>提交一下，再查看状态：</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="iconfont icon-code small"></i></span> <span class="code-header-right"><button class="button-copy" aria-label="copy" title-succeed="已复制！"><i class="iconfont icon-copy"></i></button></span></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre>On branch master
Changes to be committed:
  <span class="o">(</span>use <span class="s2">"git restore --staged &lt;file&gt;..."</span> to unstage<span class="o">)</span>
        modified:   README
</pre></table></code></div></div><p>文件还是modified，但是已经属于<strong>Changes to be committed</strong>。</p><p>再次修改README，然后查看状态。</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="iconfont icon-code small"></i></span> <span class="code-header-right"><button class="button-copy" aria-label="copy" title-succeed="已复制！"><i class="iconfont icon-copy"></i></button></span></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre><span class="nv">$ </span>git status
On branch master
Changes to be committed:
  <span class="o">(</span>use <span class="s2">"git restore --staged &lt;file&gt;..."</span> to unstage<span class="o">)</span>
        modified:   README

Changes not staged <span class="k">for </span>commit:
  <span class="o">(</span>use <span class="s2">"git add &lt;file&gt;..."</span> to update what will be committed<span class="o">)</span>
  <span class="o">(</span>use <span class="s2">"git restore &lt;file&gt;..."</span> to discard changes <span class="k">in </span>working directory<span class="o">)</span>
        modified:   README
</pre></table></code></div></div><p>可以看到文件的两次修改都出现了，第一次被记录为<strong>Changes to be committed</strong>(由于使用了add)，第二次被记录为<strong>Changes not staged for commit</strong>(未使用add)。</p><p>Git中的状态是面向修改的，本质上是提交的操作把修改文件存入.git中。第一次修改完使用add把修改后的README存入staged空间(.git中)，第二次修改没有add前，仅仅在工作目录中存在，文件的状态迁移如图所示：</p><p><img data-src="https://gitee.com/progit/figures/18333fig0106-tn.png" alt="img" data-proofer-ignore></p><p>此时使用<code class="language-plaintext highlighter-rouge">commit</code>命令，仅仅会将staged空间中的文件写入版本数据库(即第一次修改)，而第二次修改不会写入(仍保留在工作目录)，这是因为上图中commit命令的箭头仅仅是staging area指向git directory。</p><p>最后再试试新建一个文件，查看状态：</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="iconfont icon-code small"></i></span> <span class="code-header-right"><button class="button-copy" aria-label="copy" title-succeed="已复制！"><i class="iconfont icon-copy"></i></button></span></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
</pre><td class="rouge-code"><pre><span class="nv">$ </span>git status
On branch master
Changes to be committed:
  <span class="o">(</span>use <span class="s2">"git restore --staged &lt;file&gt;..."</span> to unstage<span class="o">)</span>
        modified:   README

Changes not staged <span class="k">for </span>commit:
  <span class="o">(</span>use <span class="s2">"git add &lt;file&gt;..."</span> to update what will be committed<span class="o">)</span>
  <span class="o">(</span>use <span class="s2">"git restore &lt;file&gt;..."</span> to discard changes <span class="k">in </span>working directory<span class="o">)</span>
        modified:   README

Untracked files:
  <span class="o">(</span>use <span class="s2">"git add &lt;file&gt;..."</span> to include <span class="k">in </span>what will be committed<span class="o">)</span>
        <span class="nb">test</span>
</pre></table></code></div></div><p>可以看到Git仓库中有三种状态存在：</p><ol><li><strong>Changes to be committed</strong><li><strong>Changes not staged for commit</strong><li><strong>Untracked files</strong></ol><p>所有复杂的版本控制就是由这三种状态迁移构成。</p><p><strong>状态迁移</strong>。了解了上述三种状态，我们也可以使用一些操作实现状态的迁移。正向的迁移，即从Untracked files-&gt;Changes not staged for commit=&gt;Changes to be committed，就是上面验证的顺序，即新建文件-&gt;add, commit-&gt;modified-&gt;add的过程。我们看看逆向的迁移，即<strong>回退</strong>的操作。</p><p>首先，从Changes to be committed到Changes not staged for commit，即如何将存入staged空间的数据返回工作目录。使用<code class="language-plaintext highlighter-rouge">git reset</code>或者<code class="language-plaintext highlighter-rouge">git restore --staged</code>：</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="iconfont icon-code small"></i></span> <span class="code-header-right"><button class="button-copy" aria-label="copy" title-succeed="已复制！"><i class="iconfont icon-copy"></i></button></span></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre><span class="nv">$ </span>git status
On branch master
Changes to be committed:
  <span class="o">(</span>use <span class="s2">"git restore --staged &lt;file&gt;..."</span> to unstage<span class="o">)</span>
        modified:   README
<span class="nv">$ </span>git reset HEAD README
Unstaged changes after reset:
M       README
<span class="nv">$ </span>git status
On branch master
Changes not staged <span class="k">for </span>commit:
  <span class="o">(</span>use <span class="s2">"git add &lt;file&gt;..."</span> to update what will be committed<span class="o">)</span>
  <span class="o">(</span>use <span class="s2">"git restore &lt;file&gt;..."</span> to discard changes <span class="k">in </span>working directory<span class="o">)</span>
        modified:   README

no changes added to commit <span class="o">(</span>use <span class="s2">"git add"</span> and/or <span class="s2">"git commit -a"</span><span class="o">)</span>
</pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">git reset HEAD</code>将该文件回退到提交的最近一个版本，M代表的是Modifed。</p><p>可以看到现在已经回退到Changes not staged for commit。然后是从Changes not staged for commit回退到修改前。使用<code class="language-plaintext highlighter-rouge">git restore</code>:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="iconfont icon-code small"></i></span> <span class="code-header-right"><button class="button-copy" aria-label="copy" title-succeed="已复制！"><i class="iconfont icon-copy"></i></button></span></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="nv">$ </span>git restore README

/mnt/f/program/test/git on  master ⌚ 22:14:50
<span class="nv">$ </span>git status
On branch master
nothing to commit, working tree clean
</pre></table></code></div></div><p>重新回到了Clean，Great！(仔细看上面的输出，其实使用git status时已经提示了如何回退啦！)</p><p><strong>总结</strong>一下：</p><p>回退可以只使用<code class="language-plaintext highlighter-rouge">git restore</code>，也是git推荐的用法，其中加上–staged将staged提交回退到工作目录，没加–staged是回退工作目录到修改前。</p><p>另外还有<code class="language-plaintext highlighter-rouge">git reset</code>指令和<code class="language-plaintext highlighter-rouge">git checkout -- file</code>。前者可以用来回退add(以及commit，后文讲)，后者也可以用来回退工作目录的修改。至于几个命令有什么区别，先抛个链接在这里：<a href="https://stackoverflow.com/questions/58003030/what-is-the-git-restore-command-and-what-is-the-difference-between-git-restor">https://stackoverflow.com/questions/58003030/what-is-the-git-restore-command-and-what-is-the-difference-between-git-restor</a>。容我们后文再议。</p><h3 id="git远程分支"><span class="mr-2">Git远程分支</span><a href="#git远程分支" class="anchor text-muted"><i class="iconfont icon-hashtag"></i></a></h3><p>Git branch git checkout</p><h2 id="git进阶"><span class="mr-2">Git进阶</span><a href="#git进阶" class="anchor text-muted"><i class="iconfont icon-hashtag"></i></a></h2><h2 id="git玩法"><span class="mr-2">Git玩法</span><a href="#git玩法" class="anchor text-muted"><i class="iconfont icon-hashtag"></i></a></h2><h3 id="git-cli"><span class="mr-2">Git CLI</span><a href="#git-cli" class="anchor text-muted"><i class="iconfont icon-hashtag"></i></a></h3><p>在终端使用ubuntu的时候想，很多大佬玩编程、管理项目的时候会用纯命令行终端的方式，这种情况下要如何维护管理Github(或者Gittee)这种云端仓库呢。比如说，<strong>将本地开发的一个项目发布到云端</strong>。</p><p>要实现这个需求，我们一般是怎么做的。</p><ol><li>在<strong>云端(github)点击创建仓库</strong>，填写相关信息，创建一个空的仓库；<li>在本地仓库，git clone、git remote add-url，关联上云端仓库(如果没有配置登录用户先配置https登录或ssh)。<li>然后git push提交。</ol><p>这里面最大的问题就是没办法在终端打开云端进行图形化操作，那要实现命令行管理(装B)怎么做呢，答案就是使用<strong>GIT CLI</strong>(以往HUB的继任者)。在Github克隆代码时，可以看到三个选项：HTTPS、SSH和Github CLI，我们要使用的就是这第三个。</p><p><img data-src="https://raw.githubusercontent.com/Olimiya/PicBed/main/image-20220318200158530.png" alt="image-20220318200158530" data-proofer-ignore></p><p><strong>GIT CLI</strong>的使用：<a href="https://cli.github.com/manual/">https://cli.github.com/manual/</a>，参考官网教程。</p><p>首先安装CLI，基于ubuntu:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="iconfont icon-code small"></i></span> <span class="code-header-right"><button class="button-copy" aria-label="copy" title-succeed="已复制！"><i class="iconfont icon-copy"></i></button></span></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre>curl <span class="nt">-fsSL</span> https://cli.github.com/packages/githubcli-archive-keyring.gpg | <span class="nb">sudo dd </span><span class="nv">of</span><span class="o">=</span>/usr/share/keyrings/githubcli-archive-keyring.gpg
<span class="nb">echo</span> <span class="s2">"deb [arch=</span><span class="si">$(</span>dpkg <span class="nt">--print-architecture</span><span class="si">)</span><span class="s2"> signed-by=/usr/share/keyrings/githubcli-archive-keyring.gpg] https://cli.github.com/packages stable main"</span> | <span class="nb">sudo tee</span> /etc/apt/sources.list.d/github-cli.list <span class="o">&gt;</span> /dev/null
<span class="nb">sudo </span>apt update
<span class="nb">sudo </span>apt <span class="nb">install </span>gh
</pre></table></code></div></div><p>然后配置登录信息，<code class="language-plaintext highlighter-rouge">gh auth login</code>，依照提示进行，本人的选项：</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="iconfont icon-code small"></i></span> <span class="code-header-right"><button class="button-copy" aria-label="copy" title-succeed="已复制！"><i class="iconfont icon-copy"></i></button></span></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre>? What account <span class="k">do </span>you want to log into? GitHub.com
? What is your preferred protocol <span class="k">for </span>Git operations? SSH
? Generate a new SSH key to add to your GitHub account? Yes
? Enter a passphrase <span class="k">for </span>your new SSH key <span class="o">(</span>Optional<span class="o">)</span> <span class="k">****</span>
? How would you like to authenticate GitHub CLI? Login with a web browser
? How would you like to authenticate GitHub CLI? Paste an authentication token
Tip: you can generate a Personal Access Token here https://github.com/settings/tokens
The minimum required scopes are <span class="s1">'repo'</span>, <span class="s1">'read:org'</span>, <span class="s1">'admin:public_key'</span><span class="nb">.</span>
? Paste your authentication token: <span class="k">****************************************</span>
- gh config <span class="nb">set</span> <span class="nt">-h</span> github.com git_protocol ssh
✓ Configured git protocol
✓ Uploaded the SSH key to your GitHub account: /home/olimi/.ssh/id_ed25519.pub
✓ Logged <span class="k">in </span>as Olimiya
</pre></table></code></div></div><p>需要到github.com获取一个token，访问路径为<a href="https://github.com/settings/tokens(哈哈还是需要访问github的browser">https://github.com/settings/tokens(哈哈还是需要访问github的browser</a>，不过只需要一次)。</p><p>之后就可以使用<code class="language-plaintext highlighter-rouge">gh repo create</code>命令行创建云端仓库。再使用git进行管理。</p><h3 id="别名"><span class="mr-2">别名</span><a href="#别名" class="anchor text-muted"><i class="iconfont icon-hashtag"></i></a></h3><p>提高git易用性的技巧，最早不喜欢git的原因就是认为记命令太麻烦，有些命令确实不好记，或者不理解原理，之后用多了就感觉一些常用的功能都需要打很多字母，不够便捷。</p><p>一些别名（主要是<a href="https://git-scm.com/book/en/v2/Git-Basics-Git-Aliases">git manual</a>中都推荐的）</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="iconfont icon-code small"></i></span> <span class="code-header-right"><button class="button-copy" aria-label="copy" title-succeed="已复制！"><i class="iconfont icon-copy"></i></button></span></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="nv">$ </span>git config <span class="nt">--global</span> alias.co checkout
<span class="nv">$ </span>git config <span class="nt">--global</span> alias.br branch
<span class="nv">$ </span>git config <span class="nt">--global</span> alias.ci commit
<span class="nv">$ </span>git config <span class="nt">--global</span> alias.st status
<span class="nv">$ </span>git config <span class="nt">--global</span> alias.unstage <span class="s1">'reset HEAD --'</span>
<span class="nv">$ </span>git config <span class="nt">--global</span> alias.last <span class="s1">'log -1 HEAD'</span>
<span class="nv">$ </span>git config <span class="nt">--global</span> alias.visual <span class="s1">'!gitk'</span>
</pre></table></code></div></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="iconfont icon-FolderOpen-1"></i> <a href='/categories/%E6%95%99%E7%A8%8B/'>教程</a></div><div class="post-tags"> <i class="iconfont icon-tag"></i> <a href="/tags/git/" class="post-tag no-text-decoration" >Git</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> 本文由作者按照 <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> 进行授权</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">分享</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Git+-+Olimi&url=https%3A%2F%2Folimiya.github.io%2Fposts%2FGit%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="iconfont icon-twitter"></i> </a> <a href="https://lineit.line.me/share/ui?url=https%3A%2F%2Folimiya.github.io%2Fposts%2FGit%2F&text=Git+-+Olimi" data-toggle="tooltip" data-placement="top" title="Line" target="_blank" rel="noopener" aria-label="Line"> <i class="iconfont icon-13"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Git+-+Olimi&u=https%3A%2F%2Folimiya.github.io%2Fposts%2FGit%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="iconfont icon-facebook"></i> </a> <a href="https://t.me/share/url?url=https%3A%2F%2Folimiya.github.io%2Fposts%2FGit%2F&text=Git+-+Olimi" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="iconfont icon-telegram"></i> </a> <a href="http://connect.qq.com/widget/shareqq/index.html?url=https%3A%2F%2Folimiya.github.io%2Fposts%2FGit%2F&title=Git+-+Olimi" data-toggle="tooltip" data-placement="top" title="QQ" target="_blank" rel="noopener" aria-label="QQ"> <i class="iconfont icon-QQ"></i> </a> <a href="https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=https%3A%2F%2Folimiya.github.io%2Fposts%2FGit%2F&title=Git+-+Olimi" data-toggle="tooltip" data-placement="top" title="QQ 空间" target="_blank" rel="noopener" aria-label="QQ 空间"> <i class="iconfont icon-qzone"></i> </a> <a href="http://service.weibo.com/share/share.php?title=Git+-+Olimi&url=https%3A%2F%2Folimiya.github.io%2Fposts%2FGit%2F" data-toggle="tooltip" data-placement="top" title="微博" target="_blank" rel="noopener" aria-label="微博"> <i class="iconfont icon-weibo"></i> </a> <i id="copy-link" class="iconfont icon-link small" data-toggle="tooltip" data-placement="top" title="分享链接" data-title-succeed="链接已复制！"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">最近更新</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/%E5%91%BD%E4%BB%A4%E8%A1%8C%E6%80%BB%E7%BB%93-Windows%E5%8C%85%E7%AE%A1%E7%90%86%E5%99%A8/">命令行总结-Windows包管理器</a><li><a href="/posts/GithubPage/">GithubPage</a><li><a href="/posts/Windows-Terminal-+-WSL-+-Ubuntu-+-%E5%9B%BE%E5%BD%A2%E5%8C%96-%E7%BB%88%E7%AB%AF%E9%85%8D%E7%BD%AE%E6%80%BB%E7%BB%93/">Windows Terminal + WSL + Ubuntu + 图形化 总结</a><li><a href="/posts/%E4%B8%AA%E4%BA%BA%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%8C%87%E5%8D%97/">个人云服务器指南</a><li><a href="/posts/%E6%97%A7%E9%85%8D%E7%BD%AE%E7%AC%94%E8%AE%B0%E6%9C%AC%E6%9B%B4%E6%96%B0Windows11-CPU%E4%B8%8D%E5%85%BC%E5%AE%B9/">旧配置笔记本更新windows11 Cpu不兼容</a></ul></div><div id="access-links"><div class="panel-heading">外部链接</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="https://996.icu" target="_blank"> <img src="https://img.shields.io/badge/link-996.icu-red.svg" alt="996.icu" /> </a><li><a href="https://github.com/Olimiya/olimiya.github.io" target="_blank"> <i class="iconfont icon-github"></i> &nbsp;此博客的 Github 仓库 </a></ul></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">文章内容</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>相关文章</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/Linux%E8%B5%84%E6%BA%90%E9%85%8D%E7%BD%AE/"><div class="card-body"> <em class="timeago small" data-ts="1649692800" > 2022-04-12 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Linux常用命令总结</h3><div class="text-muted small"><p> 参考API网址：Linux 命令大全 Linux资源配置 查看 汇总 查看系统配置，汇总信息CPU、内存、硬盘、网络等等： 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 4...</p></div></div></a></div><div class="card"> <a href="/posts/Markdown/"><div class="card-body"> <em class="timeago small" data-ts="1650459778" > 2022-04-20 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Markdown语法及测试</h3><div class="text-muted small"><p> 前言 总结一下常用的一些MD语法，以及针对于Chirpy主题渲染的一些指令。同时对各个MD Snippets在VSCode、Typora中分别测试一下快捷键和使用。 使用的环境：本地Typora、Web端Jekyll+Chirpy主题 MD语法教程：https://www.runoob.com/markdown/md-tutorial.html Chirpy 语法讲解 效果 个人将...</p></div></div></a></div><div class="card"> <a href="/posts/%E7%BC%96%E7%A0%81%E8%A7%84%E8%8C%83%E6%B1%87%E6%80%BB-%E6%8C%81%E7%BB%AD%E6%9B%B4%E6%96%B0/"><div class="card-body"> <em class="timeago small" data-ts="1581149160" > 2020-02-08 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>编码规范汇总【持续更新】/C++/C#</h3><div class="text-muted small"><p> 前言 作为软件工程师，出产物就应该具备工程的健壮性和美观性。因此代码规范是作为软件工程师的职业素养。但总所周知，程序员的工作基本就是在维护一座屎山，这确实是现实中种种客观条件约束下导致的。 记录本篇博客，也是希望本人在打码过程，能够保持负责任的初心，以及追求完美的极客精神吧。 诸君共勉。愿人间没有ugly的代码。 规范标准 首先列出一些常见的编码规范。 C++规范 一． 变量声...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/GithubPage/" class="btn btn-outline-primary" prompt="上一篇"><p>GithubPage</p></a> <a href="/posts/%E6%9E%84%E5%BB%BA%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E7%A9%BA%E9%97%B4/" class="btn btn-outline-primary" prompt="下一篇"><p>构建我的工作空间</p></a></div><div id="waline"></div><script> function loadWaline() { var s = document.createElement('script'); s.setAttribute('src', '//cdn.jsdelivr.net/npm/@waline/client'); s.async = false; document.body.appendChild(s); s.onload = () => { var valine = Waline({ el: '#waline', serverURL: 'https://waline.olimi.icu/', emoji: [ 'https://cdn.jsdelivr.net/gh/walinejs/emojis@1.0.0/qq', 'https://cdn.jsdelivr.net/gh/walinejs/emojis@1.0.0/tieba', 'https://cdn.jsdelivr.net/gh/walinejs/emojis@1.0.0/tw-emoji', 'https://cdn.jsdelivr.net/gh/walinejs/emojis@1.0.0/bilibili', ], dark: 'html[data-mode=dark]', avatar: 'mp', placeholder: '说点什么吧！', }); }; }; setTimeout(function () { if ("IntersectionObserver" in window) { var io = new IntersectionObserver(function (entries) { if (entries[0].isIntersecting) { loadWaline(); io.disconnect(); } }); io.observe(document.getElementById('waline')); } else { loadWaline(); } }, 1); </script></div></div></div><footer class="d-flex w-100 justify-content-center"> <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"> </script><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://olimiya.github.io/">Olimi</a>. <span data-toggle="tooltip" data-placement="top" title="除非另有说明，本网站上的博客文章均由作者按照知识共享署名 4.0 国际 (CC BY 4.0) 许可协议进行授权。">保留部分权利。</span> <span id="busuanzi_container_site_uv">总访客数<span id="busuanzi_value_site_uv"></span>人。</span></p></div><div class="footer-middle"><p class="mb-0"> <a href="http://beian.miit.gov.cn/" target="_blank">粤ICP备号</a></p></div><div class="footer-right"><p class="mb-0"> 本站由 <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> 生成，采用 <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> 主题。</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">热门标签</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/%E8%AE%B0%E5%BD%95/">记录</a> <a class="post-tag" href="/tags/%E6%B8%B8%E6%88%8F%E5%BC%95%E6%93%8E/">游戏引擎</a> <a class="post-tag" href="/tags/windows/">windows</a> <a class="post-tag" href="/tags/linux%E7%BC%96%E7%A8%8B/">Linux编程</a> <a class="post-tag" href="/tags/%E6%BC%AB%E8%B0%88/">漫谈</a> <a class="post-tag" href="/tags/%E7%BD%91%E7%AB%99/">网站</a> <a class="post-tag" href="/tags/c/">C++</a> <a class="post-tag" href="/tags/git/">Git</a> <a class="post-tag" href="/tags/markdown/">Markdown</a> <a class="post-tag" href="/tags/shell/">shell</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="iconfont icon-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">搜索结果为空</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="iconfont icon-folder"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="iconfont icon-tag"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/zh.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-NKV7205XPP"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-NKV7205XPP'); }); </script>
